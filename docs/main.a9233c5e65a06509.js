"use strict";(self.webpackChunkAngular_web=self.webpackChunkAngular_web||[]).push([[179],{142:()=>{function Ie(t){return"function"==typeof t}function Ka(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Rl=Ka(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function eo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof Rl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{jb(s)}catch(o){e=e??[],o instanceof Rl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jb(e);else{if(e instanceof fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&eo(n,e)}remove(e){const{_finalizers:n}=this;n&&eo(n,e),e instanceof fn&&e._removeParent(this)}}fn.EMPTY=(()=>{const t=new fn;return t.closed=!0,t})();const Bb=fn.EMPTY;function $b(t){return t instanceof fn||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function jb(t){Ie(t)?t():t.unsubscribe()}const Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ml={setTimeout(t,e,...n){const{delegate:r}=Ml;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ml;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hb(t){Ml.setTimeout(()=>{const{onUnhandledError:e}=Yi;if(!e)throw t;e(t)})}function Gb(){}const JU=qp("C",void 0,void 0);function qp(t,e,n){return{kind:t,value:e,error:n}}let Ji=null;function kl(t){if(Yi.useDeprecatedSynchronousErrorHandling){const e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ji;if(Ji=null,n)throw r}}else t()}class Wp extends fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$b(e)&&e.add(this)):this.destination=iB}static create(e,n,r){return new Qa(e,n,r)}next(e){this.isStopped?Qp(function ZU(t){return qp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qp(function XU(t){return qp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(JU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tB=Function.prototype.bind;function Kp(t,e){return tB.call(t,e)}class nB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nl(r)}else Nl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nl(n)}}}class Qa extends Wp{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Yi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,s),error:e.error&&Kp(e.error,s),complete:e.complete&&Kp(e.complete,s)}):i=e}this.destination=new nB(i)}}function Nl(t){Yi.useDeprecatedSynchronousErrorHandling?function eB(t){Yi.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=t)}(t):Hb(t)}function Qp(t,e){const{onStoppedNotification:n}=Yi;n&&Ml.setTimeout(()=>n(t,e))}const iB={closed:!0,next:Gb,error:function rB(t){throw t},complete:Gb},Yp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xi(t){return t}function zb(t){return 0===t.length?Xi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function aB(t){return t&&t instanceof Wp||function oB(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&$b(t)}(n)?n:new Qa(n,r,i);return kl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qb(r))((i,s)=>{const o=new Qa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yp](){return this}pipe(...n){return zb(n)(this)}toPromise(n){return new(n=qb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qb(t){var e;return null!==(e=t??Yi.Promise)&&void 0!==e?e:Promise}const uB=Ka(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rr=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Wb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uB}next(n){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Bb:(this.currentObservers=null,s.push(n),new fn(()=>{this.currentObservers=null,eo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new Wb(e,n),t})();class Wb extends Rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Bb}}function Kb(t){return Ie(t?.lift)}function lt(t){return e=>{if(Kb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new cB(t,e,n,r,i)}class cB extends Wp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return lt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function Zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function fi(t){return this instanceof fi?(this.v=t,this):new fi(t)}function Xb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function tg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eC(t){return Ie(t?.then)}function tC(t){return Ie(t[Yp])}function nC(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function rC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iC=function RB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sC(t){return Ie(t?.[iC])}function oC(t){return function Jb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof fi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield fi(n.read());if(i)return yield fi(void 0);yield yield fi(r)}}finally{n.releaseLock()}})}function aC(t){return Ie(t?.getReader)}function Vn(t){if(t instanceof Le)return t;if(null!=t){if(tC(t))return function MB(t){return new Le(e=>{const n=t[Yp]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Zb(t))return function kB(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(eC(t))return function NB(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hb)})}(t);if(nC(t))return uC(t);if(sC(t))return function PB(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(aC(t))return function OB(t){return uC(oC(t))}(t)}throw rC(t)}function uC(t){return new Le(e=>{(function FB(t,e){var n,r,i,s;return function Qb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Xb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wt(t,e,n=1/0){return Ie(e)?wt((r,i)=>se((s,o)=>e(r,s,i,o))(Vn(t(r,i))),n):("number"==typeof e&&(n=e),lt((r,i)=>function LB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Vn(n(g,l++)).subscribe(dt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Mr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function to(t=1/0){return wt(Xi,t)}const rr=new Le(t=>t.complete());function ng(t){return t[t.length-1]}function Ya(t){return function UB(t){return t&&Ie(t.schedule)}(ng(t))?t.pop():void 0}function Pl(t,e=0){return lt((n,r)=>{n.subscribe(dt(r,i=>Mr(r,t,()=>r.next(i),e),()=>Mr(r,t,()=>r.complete(),e),i=>Mr(r,t,()=>r.error(i),e)))})}function Ol(t,e=0){return lt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cC(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Mr(n,e,()=>{const r=t[Symbol.asyncIterator]();Mr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function it(t,e){return e?function WB(t,e){if(null!=t){if(tC(t))return function jB(t,e){return Vn(t).pipe(Ol(e),Pl(e))}(t,e);if(Zb(t))return function GB(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(eC(t))return function HB(t,e){return Vn(t).pipe(Ol(e),Pl(e))}(t,e);if(nC(t))return cC(t,e);if(sC(t))return function zB(t,e){return new Le(n=>{let r;return Mr(n,e,()=>{r=t[iC](),Mr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(aC(t))return function qB(t,e){return cC(oC(t),e)}(t,e)}throw rC(t)}(t,e):Vn(t)}function rg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Qa({next:()=>{r.unsubscribe(),t()}});return Vn(e(...n)).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function sg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const YB=we({__forward_ref__:we});function og(t){return t.__forward_ref__=og,t.toString=function(){return Ee(this())},t}function H(t){return ag(t)?t():t}function ag(t){return"function"==typeof t&&t.hasOwnProperty(YB)&&t.__forward_ref__===og}function ug(t){return t&&!!t.\u0275providers}class x extends Error{constructor(e,n){super(Fl(e,n)),this.code=e}}function Fl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function Ll(t,e){throw new x(-201,!1)}function Cn(t,e){null==t&&function me(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vl(t){return dC(t,Ul)||dC(t,fC)}function dC(t,e){return t.hasOwnProperty(e)?t[e]:null}function hC(t){return t&&(t.hasOwnProperty(cg)||t.hasOwnProperty(i$))?t[cg]:null}const Ul=we({\u0275prov:we}),cg=we({\u0275inj:we}),fC=we({ngInjectableDef:we}),i$=we({ngInjectorDef:we});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let lg;function Sn(t){const e=lg;return lg=t,e}function pC(t,e,n){const r=Vl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void Ll(Ee(t))}const be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ja={},dg="__NG_DI_FLAG__",Bl="ngTempTokenPath",o$="ngTokenPath",a$=/\n/gm,u$="\u0275",gC="__source";let Xa;function no(t){const e=Xa;return Xa=t,e}function c$(t,e=z.Default){if(void 0===Xa)throw new x(-203,!1);return null===Xa?pC(t,void 0,e):Xa.get(t,e&z.Optional?null:void 0,e)}function V(t,e=z.Default){return(function s$(){return lg}()||c$)(H(t),e)}function ue(t,e=z.Default){return V(t,$l(e))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hg(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=l$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function Za(t,e){return t[dg]=e,t.prototype[dg]=e,t}function l$(t){return t[dg]}function kr(t){return{toString:t}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),or=(()=>{return(t=or||(or={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",or;var t})();const Nr={},pe=[],jl=we({\u0275cmp:we}),fg=we({\u0275dir:we}),pg=we({\u0275pipe:we}),yC=we({\u0275mod:we}),Pr=we({\u0275fac:we}),eu=we({__NG_ELEMENT_ID__:we});let f$=0;function Hl(t){return kr(()=>{const e=vC(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||or.Emulated,id:"c"+f$++,styles:t.styles||pe,_:null,schemas:t.schemas||null,tView:null};wC(n);const r=t.dependencies;return n.directiveDefs=Gl(r,!1),n.pipeDefs=Gl(r,!0),n})}function g$(t){return ye(t)||kt(t)}function m$(t){return null!==t}function Or(t){return kr(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _C(t,e){if(null==t)return Nr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ht(t){return kr(()=>{const e=vC(t);return wC(e),e})}function ye(t){return t[jl]||null}function kt(t){return t[fg]||null}function nn(t){return t[pg]||null}function gn(t,e){const n=t[yC]||null;if(!n&&!0===e)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return n}function vC(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_C(t.inputs,e),outputs:_C(t.outputs)}}function wC(t){t.features?.forEach(e=>e(t))}function Gl(t,e){if(!t)return null;const n=e?nn:g$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(m$)}const Fr=0,N=1,te=2,Ve=3,Un=4,Zi=5,Nt=6,io=7,Ge=8,zl=9,ql=10,re=11,gg=12,tu=13,IC=14,so=15,Pt=16,nu=17,oo=18,ar=19,ru=20,EC=21,Ce=22,mg=1,DC=2,Wl=7,Kl=8,ao=9,Gt=10;function mn(t){return Array.isArray(t)&&"object"==typeof t[mg]}function Bn(t){return Array.isArray(t)&&!0===t[mg]}function yg(t){return 0!=(4&t.flags)}function iu(t){return t.componentOffset>-1}function Ql(t){return 1==(1&t.flags)}function $n(t){return!!t.template}function _$(t){return 0!=(256&t[te])}function es(t,e){return t.hasOwnProperty(Pr)?t[Pr]:null}class I${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ts(){return CC}function CC(t){return t.type.prototype.ngOnChanges&&(t.setInput=D$),E$}function E$(){const t=AC(this),e=t?.current;if(e){const n=t.previous;if(n===Nr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function D$(t,e,n,r){const i=this.declaredInputs[n],s=AC(t)||function T$(t,e){return t[SC]=e}(t,{previous:Nr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new I$(u&&u.currentValue,e,a===Nr),t[r]=e}ts.ngInherit=!0;const SC="__ngSimpleChanges__";function AC(t){return t[SC]||null}const An=function(t,e,n){};function It(t){for(;Array.isArray(t);)t=t[Fr];return t}function yn(t,e){return It(e[t.index])}function MC(t,e){return t.data[e]}function rn(t,e){const n=e[t];return mn(n)?n:n[Fr]}function Jl(t){return 64==(64&t[te])}function gi(t,e){return null==e?null:t[e]}function kC(t){t[oo]=0}function vg(t,e){t[Zi]+=e;let n=t,r=t[Ve];for(;null!==r&&(1===e&&1===n[Zi]||-1===e&&0===n[Zi]);)r[Zi]+=e,n=r,r=r[Ve]}const J={lFrame:jC(null),bindingsEnabled:!0};function PC(){return J.bindingsEnabled}function D(){return J.lFrame.lView}function de(){return J.lFrame.tView}function wg(t){return J.lFrame.contextLView=t,t[Ge]}function Ig(t){return J.lFrame.contextLView=null,t}function Et(){let t=OC();for(;null!==t&&64===t.type;)t=t.parent;return t}function OC(){return J.lFrame.currentTNode}function ur(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function Eg(){return J.lFrame.isParent}function co(){return J.lFrame.bindingIndex++}function L$(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tg(e)}function Tg(t){J.lFrame.currentDirectiveIndex=t}function Cg(t){J.lFrame.currentQueryIndex=t}function U$(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Nt]:null}function BC(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=U$(s),null===i||(s=s[so],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=$C();return r.currentTNode=e,r.lView=t,!0}function Sg(t){const e=$C(),n=t[N];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $C(){const t=J.lFrame,e=null===t?null:t.child;return null===e?jC(t):e}function jC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function HC(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const GC=HC;function Ag(){const t=HC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qt(){return J.lFrame.selectedIndex}function ns(t){J.lFrame.selectedIndex=t}function Xl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function Zl(t,e,n){zC(t,e,3,n)}function ed(t,e,n,r){(3&t[te])===n&&zC(t,e,n,r)}function xg(t,e){let n=t[te];(3&n)===e&&(n&=2047,n+=1,t[te]=n)}function zC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[oo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[oo]+=65536),(a<s||-1==s)&&(K$(t,n,e,u),t[oo]=(4294901760&t[oo])+u+2),u++}function K$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[te]>>11<t[oo]>>16&&(3&t[te])===e){t[te]+=2048,An(4,a,s);try{s.call(a)}finally{An(5,a,s)}}}else{An(4,a,s);try{s.call(a)}finally{An(5,a,s)}}}const lo=-1;class ou{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Mg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];WC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qC(t){return 3===t||4===t||6===t}function WC(t){return 64===t.charCodeAt(0)}function au(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||KC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function KC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function QC(t){return t!==lo}function td(t){return 32767&t}function nd(t,e){let n=function X$(t){return t>>16}(t),r=e;for(;n>0;)r=r[so],n--;return r}let kg=!0;function rd(t){const e=kg;return kg=t,e}const YC=255,JC=5;let Z$=0;const cr={};function id(t,e){const n=XC(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Ng(r.data,t),Ng(e,null),Ng(r.blueprint,null));const i=Pg(t,e),s=t.injectorIndex;if(QC(i)){const o=td(i),a=nd(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Ng(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=oS(i),null===r)return lo;if(n++,i=i[so],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return lo}function Og(t,e,n){!function ej(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(eu)&&(r=n[eu]),null==r&&(r=n[eu]=Z$++);const i=r&YC;e.data[t+(i>>JC)]|=1<<i}(t,e,n)}function ZC(t,e,n){if(n&z.Optional||void 0!==t)return t;Ll()}function eS(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[zl],s=Sn(void 0);try{return i?i.get(e,r,n&z.Optional):pC(e,r,n&z.Optional)}finally{Sn(s)}}return ZC(r,0,n)}function tS(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[te]){const o=function sj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[te]&&!(256&o[te]);){const a=nS(s,o,n,r|z.Self,cr);if(a!==cr)return a;let u=s.parent;if(!u){const c=o[EC];if(c){const l=c.get(n,cr,r);if(l!==cr)return l}u=oS(o),o=o[so]}s=u}return i}(t,e,n,r,cr);if(o!==cr)return o}const s=nS(t,e,n,r,cr);if(s!==cr)return s}return eS(e,n,r,i)}function nS(t,e,n,r,i){const s=function rj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(eu)?t[eu]:void 0;return"number"==typeof e?e>=0?e&YC:ij:e}(n);if("function"==typeof s){if(!BC(e,t,r))return r&z.Host?ZC(i,0,r):eS(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;Ll()}finally{GC()}}else if("number"==typeof s){let o=null,a=XC(t,e),u=lo,c=r&z.Host?e[Pt][Nt]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Pg(t,e):e[a+8],u!==lo&&iS(r,!1)?(o=e[N],a=td(u),e=nd(u,e)):a=-1);-1!==a;){const l=e[N];if(rS(s,a,l.data)){const d=nj(a,e,n,o,r,c);if(d!==cr)return d}u=e[a+8],u!==lo&&iS(r,e[N].data[a+8]===c)&&rS(s,a,e)?(o=l,a=td(u),e=nd(u,e)):a=-1}}return i}function nj(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=function sd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&$n(f)&&f.type===n)return u}return null}(a,o,n,null==r?iu(a)&&kg:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?rs(e,o,l,a):cr}function rs(t,e,n,r){let i=t[n];const s=e.data;if(function Q$(t){return t instanceof ou}(i)){const o=i;o.resolving&&function JB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=rd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Sn(o.injectImpl):null;BC(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function W$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CC(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Sn(u),rd(a),o.resolving=!1,GC()}}return i}function rS(t,e,n){return!!(n[e+(t>>JC)]&1<<t)}function iS(t,e){return!(t&z.Self||t&z.Host&&e)}class ho{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tS(this._tNode,this._lView,e,$l(r),n)}}function ij(){return new ho(Et(),D())}function Fg(t){return ag(t)?()=>{const e=Fg(H(t));return e&&e()}:es(t)}function oS(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Nt]:null}const po="__parameters__";function mo(t,e,n){return kr(()=>{const r=function Lg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(po)?u[po]:Object.defineProperty(u,po,{value:[]})[po];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(t,e){t.forEach(n=>Array.isArray(n)?is(n,e):e(n))}function uS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Wt=Za(mo("Optional"),8),du=Za(mo("SkipSelf"),4);var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const zg=new Map;let Mj=0;const Wg="__ngContext__";function Ot(t,e){mn(e)?(t[Wg]=e[ru],function Nj(t){zg.set(t[ru],t)}(e)):t[Wg]=e}let Kg;function Qg(t,e){return Kg(t,e)}function gu(t){const e=t[Ve];return Bn(e)?e[Ve]:e}function Yg(t){return xS(t[tu])}function Jg(t){return xS(t[Un])}function xS(t){for(;null!==t&&!Bn(t);)t=t[Un];return t}function vo(t,e,n,r,i){if(null!=r){let s,o=!1;Bn(r)?s=r:mn(r)&&(o=!0,r=r[Fr]);const a=It(r);0===t&&null!==n?null==i?OS(e,n,a):ss(e,n,a,i||null,!0):1===t&&null!==n?ss(e,n,a,i||null,!0):2===t?function im(t,e,n){const r=dd(t,e);r&&function Zj(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function n4(t,e,n,r,i){const s=n[Wl];s!==It(n)&&vo(e,t,r,s,i);for(let a=Gt;a<n.length;a++){const u=n[a];mu(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function Zg(t,e,n){return t.createElement(e,n)}function MS(t,e){const n=t[ao],r=n.indexOf(e),i=e[Ve];512&e[te]&&(e[te]&=-513,vg(i,-1)),n.splice(r,1)}function em(t,e){if(t.length<=Gt)return;const n=Gt+e,r=t[n];if(r){const i=r[nu];null!==i&&i!==t&&MS(i,r),e>0&&(t[n-1][Un]=r[Un]);const s=ad(t,Gt+e);!function zj(t,e){mu(t,e,e[re],2,null,null),e[Fr]=null,e[Nt]=null}(r[N],r);const o=s[ar];null!==o&&o.detachView(s[N]),r[Ve]=null,r[Un]=null,r[te]&=-65}return r}function kS(t,e){if(!(128&e[te])){const n=e[re];n.destroyNode&&mu(t,e,n,3,null,null),function Kj(t){let e=t[tu];if(!e)return tm(t[N],t);for(;e;){let n=null;if(mn(e))n=e[tu];else{const r=e[Gt];r&&(n=r)}if(!n){for(;e&&!e[Un]&&e!==t;)mn(e)&&tm(e[N],e),e=e[Ve];null===e&&(e=t),mn(e)&&tm(e[N],e),n=e&&e[Un]}e=n}}(e)}}function tm(t,e){if(!(128&e[te])){e[te]&=-65,e[te]|=128,function Xj(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ou)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];An(4,a,u);try{u.call(a)}finally{An(5,a,u)}}else{An(4,i,s);try{s.call(i)}finally{An(5,i,s)}}}}}(t,e),function Jj(t,e){const n=t.cleanup,r=e[io];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[io]=null}}(t,e),1===e[N].type&&e[re].destroy();const n=e[nu];if(null!==n&&Bn(e[Ve])){n!==e[Ve]&&MS(n,e);const r=e[ar];null!==r&&r.detachView(t)}!function Pj(t){zg.delete(t[ru])}(e)}}function NS(t,e,n){return function PS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Fr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===or.None||s===or.Emulated)return null}return yn(r,n)}}(t,e.parent,n)}function ss(t,e,n,r,i){t.insertBefore(e,n,r,i)}function OS(t,e,n){t.appendChild(e,n)}function FS(t,e,n,r,i){null!==r?ss(t,e,n,r,i):OS(t,e,n)}function dd(t,e){return t.parentNode(e)}let nm,am,US=function VS(t,e,n){return 40&t.type?yn(t,n):null};function hd(t,e,n,r){const i=NS(t,r,e),s=e[re],a=function LS(t,e,n){return US(t,e,n)}(r.parent||e[Nt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)FS(s,i,n[u],a,!1);else FS(s,i,n,a,!1);void 0!==nm&&nm(s,r,e,n,i)}function fd(t,e){if(null!==e){const n=e.type;if(3&n)return yn(e,t);if(4&n)return rm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fd(t,r);{const i=t[e.index];return Bn(i)?rm(-1,i):It(i)}}if(32&n)return Qg(e,t)()||It(t[e.index]);{const r=$S(t,e);return null!==r?Array.isArray(r)?r[0]:fd(gu(t[Pt]),r):fd(t,e.next)}}return null}function $S(t,e){return null!==e?t[Pt][Nt].projection[e.projection]:null}function rm(t,e){const n=Gt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return fd(r,i)}return e[Wl]}function sm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ot(It(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)sm(t,e,n.child,r,i,s,!1),vo(e,t,i,a,s);else if(32&u){const c=Qg(n,r);let l;for(;l=c();)vo(e,t,i,l,s);vo(e,t,i,a,s)}else 16&u?jS(t,e,r,n,i,s):vo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){sm(n,r,t.firstChild,e,i,s,!1)}function jS(t,e,n,r,i,s){const o=n[Pt],u=o[Nt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)vo(e,t,i,u[c],s);else sm(t,e,u,o[Ve],i,s,!0)}function HS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Mg(t,e,r),null!==i&&HS(t,e,i),null!==s&&function i4(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const yd=new U("ENVIRONMENT_INITIALIZER"),sA=new U("INJECTOR",-1),oA=new U("INJECTOR_DEF_TYPES");class aA{get(e,n=Ja){if(n===Ja){const r=new Error(`NullInjectorError: No provider for ${Ee(e)}!`);throw r.name="NullInjectorError",r}return n}}function M4(...t){return{\u0275providers:uA(0,t),\u0275fromNgModule:!0}}function uA(t,...e){const n=[],r=new Set;let i;return is(e,s=>{const o=s;fm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&cA(i,n),n}function cA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];pm(i,s=>{e.push(s)})}}function fm(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=hC(t);const o=!s&&ye(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=hC(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)fm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{is(s.imports,l=>{fm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&cA(c,e)}if(!a){const c=es(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:oA,useValue:i,multi:!0},{provide:yd,useValue:()=>V(i),multi:!0})}const u=s.providers;null==u||a||pm(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function pm(t,e){for(let n of t)ug(n)&&(n=n.\u0275providers),Array.isArray(n)?pm(n,e):e(n)}const k4=we({provide:String,useValue:we});function gm(t){return null!==t&&"object"==typeof t&&k4 in t}function os(t){return"function"==typeof t}const mm=new U("Set Injector scope."),_d={},P4={};let ym;function vd(){return void 0===ym&&(ym=new aA),ym}class Br{}class hA extends Br{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vm(e,o=>this.processProvider(o)),this.records.set(sA,Io(void 0,this)),i.has("environment")&&this.records.set(Br,Io(void 0,this));const s=this.records.get(mm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oA.multi,pe,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=no(this),r=Sn(void 0);try{return e()}finally{no(n),Sn(r)}}get(e,n=Ja,r=z.Default){this.assertNotDestroyed(),r=$l(r);const i=no(this),s=Sn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function U4(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&Vl(e);a=u&&this.injectableDefInScope(u)?Io(_m(e),_d):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?vd():this.parent).get(e,n=r&z.Optional&&n===Ja?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Bl]=o[Bl]||[]).unshift(Ee(e)),i)throw o;return function d$(t,e,n,r){const i=t[Bl];throw e[gC]&&i.unshift(e[gC]),t.message=function h$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==u$?t.slice(2):t;let i=Ee(e);if(Array.isArray(e))i=e.map(Ee).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ee(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(a$,"\n  ")}`}("\n"+t.message,i,n,r),t[o$]=i,t[Bl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Sn(s),no(i)}}resolveInjectorInitializers(){const e=no(this),n=Sn(void 0);try{const r=this.get(yd.multi,pe,z.Self);for(const i of r)i()}finally{no(e),Sn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ee(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=os(e=H(e))?e:H(e&&e.provide);const r=function F4(t){return gm(t)?Io(void 0,t.useValue):Io(function fA(t,e,n){let r;if(os(t)){const i=H(t);return es(i)||_m(i)}if(gm(t))r=()=>H(t.useValue);else if(function dA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...hg(t.deps||[]));else if(function lA(t){return!(!t||!t.useExisting)}(t))r=()=>V(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function L4(t){return!!t.deps}(t))return es(i)||_m(i);r=()=>new i(...hg(t.deps))}return r}(t),_d)}(e);if(os(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Io(void 0,_d,!0),i.factory=()=>hg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===_d&&(n.value=P4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function V4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function _m(t){const e=Vl(t),n=null!==e?e.factory:es(t);if(null!==n)return n;if(t instanceof U)throw new x(204,!1);if(t instanceof Function)return function O4(t){const e=t.length;if(e>0)throw function lu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function r$(t){return t&&(t[Ul]||t[fC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function Io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vm(t,e){for(const n of t)Array.isArray(n)?vm(n,e):n&&ug(n)?vm(n.\u0275providers,e):e(n)}class B4{}class pA{}class j4{resolveComponentFactory(e){throw function $4(t){const e=Error(`No component factory found for ${Ee(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let wu=(()=>{class t{}return t.NULL=new j4,t})();function H4(){return Eo(Et(),D())}function Eo(t,e){return new yi(yn(t,e))}let yi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=H4,t})();class mA{}let q4=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class Iu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yA=new Iu("15.2.9"),wm={},Im="ngOriginalError";function Em(t){return t[Im]}class Do{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Em(e);for(;n&&Em(n);)n=Em(n);return n||null}}function $r(t){return t instanceof Function?t():t}function vA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const wA="ng-template";function rH(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==vA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function IA(t){return 4===t.type&&t.value!==wA}function iH(t,e,n){return e===(4!==t.type||n?t.value:wA)}function sH(t,e,n){let r=4;const i=t.attrs||[],s=function uH(t){for(let e=0;e<t.length;e++)if(qC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!iH(t,u,n)||""===u&&1===e.length){if(jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!rH(t.attrs,c,n)){if(jn(r))return!1;o=!0}continue}const d=oH(8&r?"class":u,i,IA(t),n);if(-1===d){if(jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==vA(f,c,0)||2&r&&c!==h){if(jn(r))return!1;o=!0}}}}else{if(!o&&!jn(r)&&!jn(u))return!1;if(o&&jn(u))continue;o=!1,r=u|1&r}}return jn(r)||o}function jn(t){return 0==(1&t)}function oH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function cH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function EA(t,e,n=!1){for(let r=0;r<e.length;r++)if(sH(t,e[r],n))return!0;return!1}function DA(t,e){return t?":not("+e.trim()+")":e}function dH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!jn(o)&&(e+=DA(s,i),i=""),r=o,s=s||!jn(r);n++}return""!==i&&(e+=DA(s,i)),e}const X={};function Dm(t){TA(de(),D(),qt()+t,!1)}function TA(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&Zl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ed(e,s,0,n)}ns(n)}function AA(t,e=null,n=null,r){const i=xA(t,e,n,r);return i.resolveInjectorInitializers(),i}function xA(t,e=null,n=null,r,i=new Set){const s=[n||pe,M4(t)];return r=r||("object"==typeof t?void 0:Ee(t)),new hA(s,e||vd(),r||null,i)}let Hn=(()=>{class t{static create(n,r){if(Array.isArray(n))return AA({name:""},r,n,"");{const i=n.name??"";return AA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ja,t.NULL=new aA,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>V(sA)}),t.__NG_ELEMENT_ID__=-1,t})();function q(t,e=z.Default){const n=D();return null===n?V(t,e):tS(Et(),n,H(t),e)}function LA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Cg(n[r]),o.contentQueries(2,e[s],s)}}}function Ed(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Fr]=i,d[te]=76|r,(null!==l||t&&1024&t[te])&&(d[te]|=1024),kC(d),d[Ve]=d[so]=t,d[Ge]=n,d[ql]=o||t&&t[ql],d[re]=a||t&&t[re],d[gg]=u||t&&t[gg]||null,d[zl]=c||t&&t[zl]||null,d[Nt]=s,d[ru]=function kj(){return Mj++}(),d[EC]=l,d[Pt]=2==e.type?t[Pt]:d,d}function Co(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Am(t,e,n,r,i){const s=OC(),o=Eg(),u=t.data[e]=function LH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function F$(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function su(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ur(s,!0),s}function Eu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xm(t,e,n){Sg(e);try{const r=t.viewQuery;null!==r&&Vm(1,r,n);const i=t.template;null!==i&&VA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&LA(t,e),t.staticViewQueries&&Vm(2,t.viewQuery,n);const s=t.components;null!==s&&function PH(t,e){for(let n=0;n<e.length;n++)rG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Ag()}}function Dd(t,e,n,r){const i=e[te];if(128!=(128&i)){Sg(e);try{kC(e),function LC(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&VA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Zl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ed(e,c,0,null),xg(e,0)}if(function tG(t){for(let e=Yg(t);null!==e;e=Jg(e)){if(!e[DC])continue;const n=e[ao];for(let r=0;r<n.length;r++){const i=n[r];512&i[te]||vg(i[Ve],1),i[te]|=512}}}(e),function eG(t){for(let e=Yg(t);null!==e;e=Jg(e))for(let n=Gt;n<e.length;n++){const r=e[n],i=r[N];Jl(r)&&Dd(i,r,i.template,r[Ge])}}(e),null!==t.contentQueries&&LA(t,e),o){const c=t.contentCheckHooks;null!==c&&Zl(e,c)}else{const c=t.contentHooks;null!==c&&ed(e,c,1),xg(e,1)}!function kH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ns(~i);else{const s=i,o=n[++r],a=n[++r];L$(o,s),a(2,e[s])}}}finally{ns(-1)}}(t,e);const a=t.components;null!==a&&function NH(t,e){for(let n=0;n<e.length;n++)nG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Vm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Zl(e,c)}else{const c=t.viewHooks;null!==c&&ed(e,c,2),xg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-41,512&e[te]&&(e[te]&=-513,vg(e[Ve],-1))}finally{Ag()}}}function VA(t,e,n,r,i){const s=qt(),o=2&r;try{ns(-1),o&&e.length>Ce&&TA(t,e,Ce,!1),An(o?2:0,i),n(r,i)}finally{ns(s),An(o?3:1,i)}}function Rm(t,e,n){if(yg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Mm(t,e,n){PC()&&(function GH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;iu(n)&&function JH(t,e,n){const r=yn(e,t),i=UA(n),s=t[ql],o=Td(t,Ed(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||id(n,e),Ot(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=rs(e,t,a,n);Ot(c,e),null!==o&&XH(0,a-i,c,u,0,o),$n(u)&&(rn(n.index,e)[Ge]=rs(e,t,a,n))}}(t,e,n,yn(n,e)),64==(64&n.flags)&&GA(t,e,n))}function km(t,e,n=yn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function UA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Nm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Nm(t,e,n,r,i,s,o,a,u,c){const l=Ce+r,d=l+i,h=function OH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(l,d),f="function"==typeof c?c():c;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function $A(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?jA(n,e,i,s):r.hasOwnProperty(i)&&jA(n,e,r[i],s)}return n}function jA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Pm(t,e,n,r){if(PC()){const i=null===r?null:{"":-1},s=function qH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(EA(e,o.selectors,!1))if(r||(r=[]),$n(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Om(t,e,a.length)}else r.unshift(o),Om(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&HA(t,e,n,o,i,a),i&&function WH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=au(n.mergedAttrs,n.attrs)}function HA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Og(id(n,e),t,r[c].type);!function QH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Eu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=au(n.mergedAttrs,l.hostAttrs),YH(t,n,e,u,l),KH(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function VH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=$A(d.inputs,l,u,h?h.inputs:null),c=$A(d.outputs,l,c,p);const g=null===u||null===o||IA(e)?null:ZH(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function GA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function V$(){return J.lFrame.currentDirectiveIndex}();try{ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Tg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&zH(u,c)}}finally{ns(-1),Tg(o)}}function zH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Om(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function KH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function YH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=es(i.type)),o=new ou(s,$n(i),q);t.blueprint[r]=o,n[r]=o,function jH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function HH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Eu(t,n,i.hostVars,X),i)}function XH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function ZH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function nG(t,e){const n=rn(e,t);if(Jl(n)){const r=n[N];48&n[te]?Dd(r,n,r.template,n[Ge]):n[Zi]>0&&Lm(n)}}function Lm(t){for(let r=Yg(t);null!==r;r=Jg(r))for(let i=Gt;i<r.length;i++){const s=r[i];if(Jl(s))if(512&s[te]){const o=s[N];Dd(o,s,o.template,s[Ge])}else s[Zi]>0&&Lm(s)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=rn(n[r],t);Jl(i)&&i[Zi]>0&&Lm(i)}}function rG(t,e){const n=rn(e,t),r=n[N];(function iG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),xm(r,n,n[Ge])}function Td(t,e){return t[tu]?t[IC][Un]=e:t[tu]=e,t[IC]=e,e}function bd(t){for(;t;){t[te]|=32;const e=gu(t);if(_$(t)&&!e)return t;t=e}return null}function Cd(t,e,n,r=!0){const i=e[ql];i.begin&&i.begin();try{Dd(t,e,t.template,n)}catch(o){throw r&&QA(e,o),o}finally{i.end&&i.end()}}function Vm(t,e,n){Cg(0),e(t,n)}function qA(t){return t[io]||(t[io]=[])}function WA(t){return t.cleanup||(t.cleanup=[])}function QA(t,e){const n=t[zl],r=n?n.get(Do,null):null;r&&r.handleError(e)}function Um(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function jr(t,e,n){const r=function Yl(t,e){return It(e[t])}(e,t);!function RS(t,e,n){t.setValue(e,n)}(t[re],r,n)}function Sd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=sg(i,a):2==s&&(r=sg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ad(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(It(s)),Bn(s))for(let a=Gt;a<s.length;a++){const u=s[a],c=u[N].firstChild;null!==c&&Ad(u[N],u,c,r)}const o=n.type;if(8&o)Ad(t,e,n.child,r);else if(32&o){const a=Qg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=$S(e,n);if(Array.isArray(a))r.push(...a);else{const u=gu(e[Pt]);Ad(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Du{get rootNodes(){const e=this._lView,n=e[N];return Ad(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return 128==(128&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ve];if(Bn(e)){const n=e[Kl],r=n?n.indexOf(this):-1;r>-1&&(em(e,r),ad(n,r))}this._attachedToViewContainer=!1}kS(this._lView[N],this._lView)}onDestroy(e){!function BA(t,e,n,r){const i=qA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&WA(t).push(r,i.length-1))}(this._lView[N],this._lView,null,e)}markForCheck(){bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-65}reattach(){this._lView[te]|=64}detectChanges(){Cd(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wj(t,e){mu(t,e,e[re],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class sG extends Du{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cd(e[N],e,e[Ge],!1)}checkNoChanges(){}get context(){return null}}class YA extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ye(e);return new Tu(n,this.ngModule)}}function JA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class aG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$l(r);const i=this.injector.get(e,wm,r);return i!==wm||n===wm?i:this.parentInjector.get(e,n,r)}}class Tu extends pA{get inputs(){return JA(this.componentDef.inputs)}get outputs(){return JA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hH(t){return t.map(dH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Br?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new aG(e,s):e,a=o.get(mA,null);if(null===a)throw new x(407,!1);const u=o.get(q4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function FH(t,e,n){return t.selectRootElement(e,n===or.ShadowDom)}(c,r,this.componentDef.encapsulation):Zg(c,l,function oG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Nm(0,null,null,1,0,null,null,null,null,null),p=Ed(null,f,null,h,null,null,a,c,u,o,null);let g,m;Sg(p);try{const w=this.componentDef;let E,_=null;w.findHostDirectiveDefs?(E=[],_=new Map,w.findHostDirectiveDefs(w,E,_),E.push(w)):E=[w];const R=function cG(t,e){const n=t[N],r=Ce;return t[r]=e,Co(n,r,2,"#host",null)}(p,d),L=function lG(t,e,n,r,i,s,o,a){const u=i[N];!function dG(t,e,n,r){for(const i of t)e.mergedAttrs=au(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sd(e,e.mergedAttrs,!0),null!==n&&GS(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Ed(i,UA(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Om(u,t,r.length-1),Td(i,l),i[t.index]=l}(R,d,w,E,p,a,c);m=MC(f,Ce),d&&function fG(t,e,n,r){if(r)Mg(t,n,["ng-version",yA.full]);else{const{attrs:i,classes:s}=function fH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!jn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Mg(t,n,i),s&&s.length>0&&HS(t,n,s.join(" "))}}(c,w,d,r),void 0!==n&&function pG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function hG(t,e,n,r,i,s){const o=Et(),a=i[N],u=yn(o,i);HA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Ot(rs(i,a,o.directiveStart+l,o),i);GA(a,i,o),u&&Ot(u,i);const c=rs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ge]=i[Ge]=c,null!==s)for(const l of s)l(c,e);return Rm(a,o,t),c}(L,w,E,_,p,[gG]),xm(f,p,null)}finally{Ag()}return new uG(this.componentType,g,Eo(m,p),p,m)}}class uG extends B4{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new sG(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Um(s[N],s,i,e,n),bd(rn(this._tNode.index,s))}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gG(){const t=Et();Xl(D()[N],t)}function xd(t){return!!function $m(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ft(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Hm(t,e,n){const r=D();return Ft(r,co(),e)&&function vn(t,e,n,r,i,s,o,a){const u=yn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Um(t,n,l,r,i),iu(e)&&function BH(t,e){const n=rn(e,t);16&n[te]||(n[te]|=32)}(n,e.index)):3&e.type&&(r=function UH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(de(),function Ne(){const t=J.lFrame;return MC(t.tView,t.selectedIndex)}(),r,t,e,r[re],n,!1),Hm}function Gm(t,e,n,r,i){const o=i?"class":"style";Um(t,n,e.inputs[o],o,r)}function Mn(t,e,n,r){const i=D(),s=de(),o=Ce+t,a=i[re],u=s.firstCreatePass?function MG(t,e,n,r,i,s){const o=e.consts,u=Co(e,t,2,r,gi(o,i));return Pm(e,n,u,gi(o,s)),null!==u.attrs&&Sd(u,u.attrs,!1),null!==u.mergedAttrs&&Sd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=Zg(a,e,function q$(){return J.lFrame.currentNamespace}()),l=Ql(u);return ur(u,!0),GS(a,c,u),32!=(32&u.flags)&&hd(s,i,c,u),0===function R$(){return J.lFrame.elementDepthCount}()&&Ot(c,i),function M$(){J.lFrame.elementDepthCount++}(),l&&(Mm(s,i,u),Rm(s,u,i)),null!==r&&km(i,u),Mn}function Gn(){let t=Et();Eg()?function Dg(){J.lFrame.isParent=!1}():(t=t.parent,ur(t,!1));const e=t;!function k$(){J.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Xl(n,t),yg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Y$(t){return 0!=(8&t.flags)}(e)&&Gm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J$(t){return 0!=(16&t.flags)}(e)&&Gm(n,e,D(),e.stylesWithoutHost,!1),Gn}function Hr(t,e,n,r){return Mn(t,e,n,r),Gn(),Hr}function Wm(){return D()}function Md(t){return!!t&&"function"==typeof t.then}const mx=function gx(t){return!!t&&"function"==typeof t.subscribe};function Cu(t,e,n,r){const i=D(),s=de(),o=Et();return function _x(t,e,n,r,i,s,o){const a=Ql(r),c=t.firstCreatePass&&WA(t),l=e[Ge],d=qA(e);let h=!0;if(3&r.type||o){const g=yn(r,e),m=o?o(g):g,w=d.length,E=o?R=>o(It(R[r.index])):r.index;let _=null;if(!o&&a&&(_=function NG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[io],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=wx(r,e,l,s,!1);const R=n.listen(m,i,s);d.push(s,R),c&&c.push(i,E,w,w+1)}}else s=wx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(s),j=d.length;d.push(s,L),c&&c.push(i,r.index,j,-(j+1))}}}(s,i,i[re],o,t,e,r),Cu}function vx(t,e,n,r){try{return An(6,e,n),!1!==n(r)}catch(i){return QA(t,i),!1}finally{An(7,e,n)}}function wx(t,e,n,r,i){return function s(o){if(o===Function)return r;bd(t.componentOffset>-1?rn(t.index,e):e);let u=vx(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=vx(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ix(t=1){return function B$(t){return(J.lFrame.contextLView=function $$(t,e){for(;t>0;)e=e[so],t--;return e}(t,J.lFrame.contextLView))[Ge]}(t)}function Au(t,e=""){const n=D(),r=de(),i=t+Ce,s=r.firstCreatePass?Co(r,i,1,e,null):r.data[i],o=n[i]=function Xg(t,e){return t.createText(e)}(n[re],e);hd(r,n,o,s),ur(s,!1)}function Pd(t,e,n){const r=D(),i=function Ao(t,e,n,r){return Ft(t,co(),n)?e+Y(n)+r:X}(r,t,e,n);return i!==X&&jr(r,qt(),i),Pd}const Vo="en-US";let pR=Vo;class Uo{}class BR{}class $R extends Uo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YA(this);const r=gn(e);this._bootstrapComponents=$r(r.bootstrap),this._r3Injector=xA(e,n,[{provide:Uo,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],Ee(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sy extends BR{constructor(e){super(),this.moduleType=e}create(e){return new $R(this.moduleType,e)}}class b3 extends Uo{constructor(e,n,r){super(),this.componentFactoryResolver=new YA(this),this.instance=null;const i=new hA([...e,{provide:Uo,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],n||vd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ud(t,e,n=null){return new b3(t,e,n).injector}let C3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=uA(0,n.type),i=r.length>0?Ud([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(V(Br))}),t})();function jR(t){t.getStandaloneInjector=e=>e.get(C3).getOrCreateStandaloneInjector(t)}function ay(t){return e=>{setTimeout(t,void 0,e)}}const Qt=class X3 extends Rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ay(s),i&&(i=ay(i)),o&&(o=ay(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof fn&&e.add(a),a}};let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=nq,t})();const eq=Gr,tq=class extends eq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Ed(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[nu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ar];return null!==o&&(i[ar]=o.createEmbeddedView(r)),xm(r,i,e),new Du(i)}};function nq(){return function Bd(t,e){return 4&t.type?new tq(e,t,Eo(t,e)):null}(Et(),D())}let Wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=rq,t})();function rq(){return function nM(t,e){let n;const r=e[t.index];if(Bn(r))n=r;else{let i;if(8&t.type)i=It(r);else{const s=e[re];i=s.createComment("");const o=yn(t,e);ss(s,dd(s,o),i,function e4(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=zA(r,e,i,t),Td(e,n)}return new eM(n,t,e)}(Et(),D())}const iq=Wn,eM=class extends iq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){const e=Pg(this._hostTNode,this._hostLView);if(QC(e)){const n=nd(e,this._hostLView),r=td(e);return new ho(n[N].data[r+8],n)}return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=tM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function cu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Tu(ye(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Br,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[N];if(function x$(t){return Bn(t[Ve])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ve],h=new eM(d,d[Nt],d[Ve]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function Qj(t,e,n,r){const i=Gt+r,s=n.length;r>0&&(n[i-1][Un]=e),r<s-Gt?(e[Un]=n[i],uS(n,Gt+r,e)):(n.push(e),e[Un]=null),e[Ve]=n;const o=e[nu];null!==o&&n!==o&&function Yj(t,e){const n=t[ao];e[Pt]!==e[Ve][Ve][Pt]&&(t[DC]=!0),null===n?t[ao]=[e]:n.push(e)}(o,e);const a=e[ar];null!==a&&a.insertView(t),e[te]|=64}(i,r,o,s);const a=rm(s,o),u=r[re],c=dd(u,o[Wl]);return null!==c&&function qj(t,e,n,r,i,s){r[Fr]=i,r[Nt]=e,mu(t,r,n,1,i,s)}(i,o[Nt],u,r,c,a),e.attachToViewContainerRef(),uS(cy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=tM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=em(this._lContainer,n);r&&(ad(cy(this._lContainer),n),kS(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=em(this._lContainer,n);return r&&null!=ad(cy(this._lContainer),n)?new Du(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tM(t){return t[Kl]}function cy(t){return t[Kl]||(t[Kl]=[])}function jd(...t){}const Hd=new U("Application Initializer");let Gd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=jd,this.reject=jd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Md(s))n.push(s);else if(mx(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(V(Hd,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lu=new U("AppId",{providedIn:"root",factory:function AM(){return`${wy()}${wy()}${wy()}`}});function wy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xM=new U("Platform Initializer"),zd=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let kq=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new U("LocaleId",{providedIn:"root",factory:()=>ue(zr,z.Optional|z.SkipSelf)||function Nq(){return typeof $localize<"u"&&$localize.locale||Vo}()});class Oq{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let RM=(()=>{class t{compileModuleSync(n){return new sy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=$r(gn(n).declarations).reduce((o,a)=>{const u=ye(a);return u&&o.push(new Tu(u)),o},[]);return new Oq(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vq=(()=>Promise.resolve(0))();function Iy(t){typeof Zone>"u"?Vq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Uq(){let t=be.requestAnimationFrame,e=be.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function jq(t){const e=()=>{!function $q(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dy(t),t.isCheckStableRunning=!0,Ey(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return NM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),PM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return NM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),PM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Dy(t),Ey(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Bq,jd,jd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Bq={};function Ey(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function NM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PM(t){t._nesting--,Ey(t)}class Hq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const OM=new U(""),qd=new U("");let Cy,Ty=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cy||(function Gq(t){Cy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(V(Me),V(by),V(qd))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),by=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Cy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qr=!1;let vi=null;const FM=new U("AllowMultipleToken"),Sy=new U("PlatformDestroyListeners"),LM=new U("appBootstrapListener");class VM{constructor(e,n){this.name=e,this.token=n}}function BM(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=Ay();if(!o||o.injector.get(FM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Wq(t){if(vi&&!vi.get(FM,!1))throw new x(400,!1);vi=t;const e=t.get(jM);(function UM(t){const e=t.get(xM,null);e&&e.forEach(n=>n())})(t)}(function $M(t=[],e){return Hn.create({name:e,providers:[{provide:mm,useValue:"platform"},{provide:Sy,useValue:new Set([()=>vi=null])},...t]})}(a,r))}return function Qq(t){const e=Ay();if(!e)throw new x(401,!1);return e}()}}function Ay(){return vi?.get(jM)??null}let jM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function GM(t,e){let n;return n="noop"===t?new Hq:("zone.js"===t?void 0:t)||new Me(e),n}(r?.ngZone,function HM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Me,useValue:i}];return i.run(()=>{const o=Hn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Do,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Kd(this._modules,a),c.unsubscribe()})}),function zM(t,e,n){try{const r=n();return Md(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Gd);return c.runInitializers(),c.donePromise.then(()=>(function gR(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(pR=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,Vo)||Vo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=qM({},r);return function zq(t,e,n){const r=new sy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Wd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new x(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Sy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(V(Hn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function qM(t,e){return Array.isArray(e)?e.reduce(qM,t):{...t,...e}}let Wd=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Le(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Le(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function KB(...t){const e=Ya(t),n=function $B(t,e){return"number"==typeof ng(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Vn(r[0]):to(n)(it(r,e)):rr}(s,o.pipe(function QB(t={}){const{connector:e=(()=>new Rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return lt((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=rg(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Qa({next:E=>w.next(E),error:E=>{d=!0,h(),a=rg(f,n,E),w.error(E)},complete:()=>{l=!0,h(),a=rg(f,r),w.complete()}}),Vn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof pA;if(!this._injector.get(Gd).done){!i&&function ro(t){const e=ye(t)||kt(t)||nn(t);return null!==e&&e.standalone}(n);throw new x(405,qr)}let o;o=i?n:this._injector.get(wu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function qq(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Uo),c=o.create(Hn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(OM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Kd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(LM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(V(Me),V(Br),V(Do))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let xy=(()=>{class t{}return t.__NG_ELEMENT_ID__=Jq,t})();function Jq(t){return function Xq(t,e,n){if(iu(t)&&!n){const r=rn(t.index,e);return new Du(r,r)}return 47&t.type?new Du(e[Pt],e):null}(Et(),D(),16==(16&t))}class JM{constructor(){}supports(e){return xd(e)}create(e){return new i6(e)}}const r6=(t,e)=>e;class i6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||r6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ZM(r,i,s)?n:r,a=ZM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!xd(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function CG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new s6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new XM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class s6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class o6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class XM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new o6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function tk(){return new Jd([new JM])}let Jd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||tk()),deps:[[t,new du,new Wt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:tk}),t})();const d6=BM(null,"core",[]);let h6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(V(Wd))},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({}),t})(),Oy=null;function ds(){return Oy}class g6{}const an=new U("DocumentToken");let Fy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return function m6(){return V(rk)}()},providedIn:"platform"}),t})();const y6=new U("Location Initialized");let rk=(()=>{class t extends Fy{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ds().getBaseHref(this._doc)}onPopState(n){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){ik()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){ik()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=G({token:t,factory:function(){return function _6(){return new rk(V(an))}()},providedIn:"platform"}),t})();function ik(){return!!window.history.pushState}function Ly(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wr(t){return t&&"?"!==t[0]?"?"+t:t}let hs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return ue(ak)},providedIn:"root"}),t})();const ok=new U("appBaseHref");let ak=(()=>{class t extends hs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ly(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Wr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Wr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(Fy),V(ok,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v6=(()=>{class t extends hs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ly(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(Fy),V(ok,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Vy=(()=>{class t{constructor(n){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function E6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(sk(uk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wr(r))}normalize(n){return t.stripTrailingSlash(function I6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,uk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Wr,t.joinWithSlash=Ly,t.stripTrailingSlash=sk,t.\u0275fac=function(n){return new(n||t)(V(hs))},t.\u0275prov=G({token:t,factory:function(){return function w6(){return new Vy(V(hs))}()},providedIn:"root"}),t})();function uk(t){return t.replace(/\/index.html$/,"")}class u9{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new u9(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Ik(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ik(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(q(Wn),q(Gr),q(Jd))},t.\u0275dir=Ht({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Ik(t,e){t.context.$implicit=e.item}let F9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({}),t})();let B9=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new $9(V(an),window)}),t})();class $9{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function j9(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ck(this.window.history)||Ck(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ck(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class m5 extends g6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t_ extends m5{static makeCurrent(){!function p6(t){Oy||(Oy=t)}(new t_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function y5(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}();return null==n?null:function _5(t){ch=ch||document.createElement("a"),ch.setAttribute("href",t);const e=ch.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function s9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ch,ju=null;const Mk=new U("TRANSITION_ID"),w5=[{provide:Hd,useFactory:function v5(t,e,n){return()=>{n.get(Gd).donePromise.then(()=>{const r=ds(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Mk,an,Hn],multi:!0}];let E5=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const lh=new U("EventManagerPlugins");let dh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(V(lh),V(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class kk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ds().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Nk=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Hu=(()=>{class t extends Nk{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const n_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r_=/%COMP%/g,Fk=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Lk(t,e){return e.flat(100).map(n=>n.replace(r_,t))}function Vk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let i_=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new s_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof $k?i.applyToHost(n):i instanceof o_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case or.Emulated:s=new $k(o,a,r,this.appId,u);break;case or.ShadowDom:return new x5(o,a,n,r);default:s=new o_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(V(dh),V(Hu),V(Lu),V(Fk))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class s_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(n_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Bk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=n_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=n_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Vk(r)):this.eventManager.addEventListener(e,n,Vk(r))}}function Bk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class x5 extends s_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Lk(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class o_ extends s_{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Lk(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $k extends o_{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function C5(t){return"_ngcontent-%COMP%".replace(r_,t)}(o),this.hostAttr=function S5(t){return"_nghost-%COMP%".replace(r_,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let R5=(()=>{class t extends kk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const jk=["alt","control","meta","shift"],M5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let N5=(()=>{class t extends kk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ds().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=M5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jk.forEach(o=>{o!==i&&(0,k5[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Gk=[{provide:zd,useValue:"browser"},{provide:xM,useValue:function P5(){t_.makeCurrent()},multi:!0},{provide:an,useFactory:function F5(){return function u4(t){am=t}(document),document},deps:[]}],L5=BM(d6,"browser",Gk),zk=new U(""),qk=[{provide:qd,useClass:class I5{addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ds().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:OM,useClass:Ty,deps:[Me,by,qd]},{provide:Ty,useClass:Ty,deps:[Me,by,qd]}],Wk=[{provide:mm,useValue:"root"},{provide:Do,useFactory:function O5(){return new Do},deps:[]},{provide:lh,useClass:R5,multi:!0,deps:[an,Me,zd]},{provide:lh,useClass:N5,multi:!0,deps:[an]},{provide:i_,useClass:i_,deps:[dh,Hu,Lu,Fk]},{provide:mA,useExisting:i_},{provide:Nk,useExisting:Hu},{provide:Hu,useClass:Hu,deps:[an]},{provide:dh,useClass:dh,deps:[lh,Me]},{provide:class H9{},useClass:E5,deps:[]},[]];let V5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Lu,useValue:n.appId},{provide:Mk,useExisting:Lu},w5]}}}return t.\u0275fac=function(n){return new(n||t)(V(zk,12))},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({providers:[...Wk,...qk],imports:[F9,h6]}),t})(),Kk=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function B5(){return new Kk(V(an))}(),r},providedIn:"root"}),t})();function $(...t){return it(t,Ya(t))}typeof window<"u"&&window;class Jn extends Rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const hh=Ka(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:q5}=Array,{getPrototypeOf:W5,prototype:K5,keys:Q5}=Object;const{isArray:X5}=Array;function Jk(...t){const e=Ya(t),n=function BB(t){return Ie(ng(t))?t.pop():void 0}(t),{args:r,keys:i}=function Y5(t){if(1===t.length){const e=t[0];if(q5(e))return{args:e,keys:null};if(function J5(t){return t&&"object"==typeof t&&W5(t)===K5}(e)){const n=Q5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return it([],e);const s=new Le(function nW(t,e,n=Xi){return r=>{Xk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Xk(e,()=>{const c=it(t[u],e);let l=!1;c.subscribe(dt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function tW(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Xi));return n?s.pipe(function eW(t){return se(e=>function Z5(t,e){return X5(e)?t(...e):t(e)}(t,e))}(n)):s}function Xk(t,e,n){t?Mr(n,t,e):e()}function c_(...t){return function rW(){return to(1)}()(it(t,Ya(t)))}function Zk(t){return new Le(e=>{Vn(t()).subscribe(e)})}function Gu(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function l_(){return lt((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class e1 extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fn;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fn.EMPTY)}return e}refCount(){return l_()(this)}}function pr(t,e){return lt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Vn(t(u,l)).subscribe(i=dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jo(t){return t<=0?()=>rr:lt((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ii(t,e){return lt((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function fh(t){return lt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function t1(t=sW){return lt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sW(){return new hh}function Ei(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,s)=>t(i,s,r)):Xi,jo(1),n?fh(e):t1(()=>new hh))}function fs(t,e){return Ie(e)?wt(t,e,1):wt(t,1)}function Dt(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xi}function Di(t){return lt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=Vn(t(o,Di(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function n1(t,e){return lt(function oW(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(dt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function d_(t){return t<=0?()=>rr:lt((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function r1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,s)=>t(i,s,r)):Xi,d_(1),n?fh(e):t1(()=>new hh))}function h_(t){return lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Z="primary",zu=Symbol("RouteTitle");class cW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ho(t){return new cW(t)}function lW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!i1(t[i],e[i]))return!1;return!0}function i1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function s1(t){return Array.prototype.concat.apply([],t)}function o1(t){return t.length>0?t[t.length-1]:null}function Tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ti(t){return mx(t)?t:Md(t)?it(Promise.resolve(t)):$(t)}const ph=!1,hW={exact:function c1(t,e,n){if(!ps(t.segments,e.segments)||!gh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!c1(t.children[r],e.children[r],n))return!1;return!0},subset:l1},a1={exact:function fW(t,e){return gr(t,e)},subset:function pW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>i1(t[n],e[n]))},ignored:()=>!0};function u1(t,e,n){return hW[n.paths](t.root,e.root,n.matrixParams)&&a1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function l1(t,e,n){return d1(t,e,e.segments,n)}function d1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ps(i,n)||e.hasChildren()||!gh(i,n,r))}if(t.segments.length===n.length){if(!ps(t.segments,n)||!gh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!l1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ps(t.segments,i)&&gh(t.segments,i,r)&&t.children[Z])&&d1(t.children[Z],e,s,r)}}function gh(t,e,n){return e.every((r,i)=>a1[n](t[i].parameters,r.parameters))}class bi{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return yW.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Tt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mh(this)}}class qu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ho(this.parameters)),this._parameterMap}toString(){return p1(this)}}function ps(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Wu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new f_},providedIn:"root"}),t})();class f_{parse(e){const n=new CW(e);return new bi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ku(e.root,!0)}`,r=function wW(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${yh(n)}=${yh(i)}`).join("&"):`${yh(n)}=${yh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function _W(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yW=new f_;function mh(t){return t.segments.map(e=>p1(e)).join("/")}function Ku(t,e){if(!t.hasChildren())return mh(t);if(e){const n=t.children[Z]?Ku(t.children[Z],!1):"",r=[];return Tt(t.children,(i,s)=>{s!==Z&&r.push(`${s}:${Ku(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mW(t,e){let n=[];return Tt(t.children,(r,i)=>{i===Z&&(n=n.concat(e(r,i)))}),Tt(t.children,(r,i)=>{i!==Z&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===Z?[Ku(t.children[Z],!1)]:[`${i}:${Ku(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${mh(t)}/${n[0]}`:`${mh(t)}/(${n.join("//")})`}}function h1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(t){return h1(t).replace(/%3B/gi,";")}function p_(t){return h1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _h(t){return decodeURIComponent(t)}function f1(t){return _h(t.replace(/\+/g,"%20"))}function p1(t){return`${p_(t.path)}${function vW(t){return Object.keys(t).map(e=>`;${p_(e)}=${p_(t[e])}`).join("")}(t.parameters)}`}const IW=/^[^\/()?;=#]+/;function vh(t){const e=t.match(IW);return e?e[0]:""}const EW=/^[^=?&#]+/,TW=/^[^&#]+/;class CW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ie(e,n)),r}parseSegment(){const e=vh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,ph);return this.capture(e),new qu(_h(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=vh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vh(this.remaining);i&&(r=i,this.capture(r))}e[_h(n)]=_h(r)}parseQueryParam(e){const n=function DW(t){const e=t.match(EW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function bW(t){const e=t.match(TW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=f1(n),s=f1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,ph);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,ph)}}function g_(t){return t.segments.length>0?new ie([],{[Z]:t}):t}function wh(t){const e={};for(const r of Object.keys(t.children)){const s=wh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function SW(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}function gs(t){return t instanceof bi}const m_=!1;function AW(t,e,n,r,i){if(0===n.length)return Go(e.root,e.root,e.root,r,i);const s=function v1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Tt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new _1(n,e,r)}(n);return s.toRoot()?Go(e.root,e.root,new ie([],{}),r,i):function o(u){const c=function RW(t,e,n,r){if(t.isAbsolute)return new zo(e.root,!0,0);if(-1===r)return new zo(n,n===e.root,0);return function w1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,m_&&"Invalid number of '../'");i=r.segments.length}return new zo(r,!1,i-s)}(n,r+(Qu(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?qo(c.segmentGroup,c.index,s.commands):y_(c.segmentGroup,c.index,s.commands);return Go(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Qu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yu(t){return"object"==typeof t&&null!=t&&t.outlets}function Go(t,e,n,r,i){let o,s={};r&&Tt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:y1(t,e,n);const a=g_(wh(o));return new bi(a,s,i)}function y1(t,e,n){const r={};return Tt(t.children,(i,s)=>{r[s]=i===e?n:y1(i,e,n)}),new ie(t.segments,r)}class _1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qu(r[0]))throw new x(4003,m_&&"Root segment cannot have matrix parameters");const i=r.find(Yu);if(i&&i!==o1(r))throw new x(4004,m_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function y_(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return qo(t,e,n);const r=function kW(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Yu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!E1(u,c,o))return s;r+=2}else{if(!E1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new ie(t.segments.slice(r.pathIndex),t.children),qo(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?__(t,e,n):r.match?qo(t,0,i):__(t,e,n)}function qo(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function MW(t){return Yu(t[0])?t[0].outlets:{[Z]:t}}(n),i={};if(!r[Z]&&t.children[Z]&&1===t.numberOfChildren&&0===t.children[Z].segments.length){const s=qo(t.children[Z],e,n);return new ie(t.segments,s.children)}return Tt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=y_(t.children[o],e,s))}),Tt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function __(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Yu(s)){const u=NW(s.outlets);return new ie(r,u)}if(0===i&&Qu(n[0])){r.push(new qu(t.segments[e].path,I1(n[0]))),i++;continue}const o=Yu(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qu(a)?(r.push(new qu(o,I1(a))),i+=2):(r.push(new qu(o,{})),i++)}return new ie(r,{})}function NW(t){const e={};return Tt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=__(new ie([],{}),0,n))}),e}function I1(t){const e={};return Tt(t,(n,r)=>e[r]=`${n}`),e}function E1(t,e,n){return t==n.path&&gr(e,n.parameters)}const Ju="imperative";class mr{constructor(e,n){this.id=e,this.url=n}}class v_ extends mr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ms extends mr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ih extends mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Eh extends mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class w_ extends mr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PW extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OW extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FW extends mr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LW extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VW extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $W{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let WW=(()=>{class t{createUrlTree(n,r,i,s,o,a){return AW(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),QW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(e){return WW.\u0275fac(e)},providedIn:"root"}),t})();class T1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=I_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=I_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=E_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return E_(e,this._root).map(n=>n.value)}}function I_(t,e){if(t===e.value)return e;for(const n of e.children){const r=I_(t,n);if(r)return r}return null}function E_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=E_(t,n);if(r.length)return r.unshift(e),r}return[]}class Qr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class b1 extends T1{constructor(e,n){super(e),this.snapshot=n,D_(this,e)}toString(){return this.snapshot.toString()}}function C1(t,e){const n=function YW(t,e){const o=new Dh([],{},{},"",{},Z,e,null,t.root,-1,{});return new A1("",new Qr(o,[]))}(t,e),r=new Jn([new qu("",{})]),i=new Jn({}),s=new Jn({}),o=new Jn({}),a=new Jn(""),u=new Ko(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new b1(new Qr(u,[]),n)}class Ko{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(se(c=>c[zu]))??$(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Ho(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Ho(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function JW(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dh{get title(){return this.data?.[zu]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class A1 extends T1{constructor(e,n){super(n),this.url=e,D_(this,n)}toString(){return x1(this._root)}}function D_(t,e){e.value._routerState=t,e.children.forEach(n=>D_(t,n))}function x1(t){const e=t.children.length>0?` { ${t.children.map(x1).join(", ")} } `:"";return`${t.value}${e}`}function T_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),gr(e.params,n.params)||t.params.next(n.params),function dW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),gr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function b_(t,e){const n=gr(t.params,e.params)&&function gW(t,e){return ps(t,e)&&t.every((n,r)=>gr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||b_(t.parent,e.parent))}function Xu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ZW(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xu(t,r,i);return Xu(t,r)})}(t,e,n);return new Qr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xu(t,a)),o}}const r=function e7(t){return new Ko(new Jn(t.url),new Jn(t.params),new Jn(t.queryParams),new Jn(t.fragment),new Jn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Xu(t,s));return new Qr(r,i)}}const C_="ngNavigationCancelingError";function R1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=M1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function M1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[C_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function k1(t){return N1(t)&&gs(t.url)}function N1(t){return t&&t[C_]}class t7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zu,this.attachRef=null}}let Zu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new t7,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Th=!1;let P1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=ue(Zu),this.location=ue(Wn),this.changeDetector=ue(xy),this.environmentInjector=ue(Br)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,Th);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,Th);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,Th);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,Th);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new n7(n,a,i.injector);if(r&&function r7(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ht({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ts]}),t})();class n7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ko?this.route:e===Zu?this.childContexts:this.parent.get(e,n)}}let S_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hl({type:t,selectors:[["ng-component"]],standalone:!0,features:[jR],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},dependencies:[P1],encapsulation:2}),t})();function O1(t,e){return t.providers&&!t._injector&&(t._injector=Ud(t.providers,e,`Route: ${t.path}`)),t._injector??e}function x_(t){const e=t.children&&t.children.map(x_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=S_),n}function Pn(t){return t.outlet||Z}function F1(t,e){const n=t.filter(r=>Pn(r)===e);return n.push(...t.filter(r=>Pn(r)!==e)),n}function ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class u7{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),T_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Wo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Tt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Wo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new GW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jW(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(T_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),T_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ec(i.snapshot),u=a?.get(wu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class L1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,n){this.component=e,this.route=n}}function c7(t,e,n){const r=t._root;return tc(r,e?e._root:null,n,[r.value])}function Qo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function n$(t){return null!==Vl(t)}(t)?e.get(t):t:r}function tc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wo(e);return t.children.forEach(o=>{(function d7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function h7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ps(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(t.url,e.url)||!gr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b_(t,e)||!gr(t.queryParams,e.queryParams);default:return!b_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new L1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),tc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bh(a.outlet.component,o))}else o&&nc(e,a,i),i.canActivateChecks.push(new L1(r)),tc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Tt(s,(o,a)=>nc(o,n.getContext(a),i)),i}function nc(t,e,n){const r=Wo(t),i=t.value;Tt(r,(s,o)=>{nc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new bh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rc(t){return"function"==typeof t}function R_(t){return t instanceof hh||"EmptyError"===t?.name}const Ch=Symbol("INITIAL_VALUE");function Yo(){return pr(t=>Jk(t.map(e=>e.pipe(jo(1),function iW(...t){const e=Ya(t);return lt((n,r)=>{(e?c_(t,n,e):c_(t,n)).subscribe(r)})}(Ch)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===Ch)return Ch;if(!1===n||n instanceof bi)return n}return!0}),Ii(e=>e!==Ch),jo(1)))}function V1(t){return function sB(...t){return zb(t)}(Dt(e=>{if(gs(e))throw R1(0,e)}),se(e=>!0===e))}const M_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U1(t,e,n,r,i){const s=k_(t,e,n);return s.matched?function x7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=Qo(o,t);return Ti(function _7(t){return t&&rc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yo(),V1()):$(!0)}(r=O1(e,r),e,n).pipe(se(o=>!0===o?s:{...M_})):$(s)}function k_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...M_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lW)(n,t,e);if(!i)return{...M_};const s={};Tt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Sh(t,e,n,r){if(n.length>0&&function k7(t,e,n){return n.some(r=>Ah(t,e,r)&&Pn(r)!==Z)}(t,n,r)){const s=new ie(e,function M7(t,e,n,r){const i={};i[Z]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Pn(s)!==Z){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Pn(s)]=o}return i}(t,e,r,new ie(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function N7(t,e,n){return n.some(r=>Ah(t,e,r))}(t,n,r)){const s=new ie(t.segments,function R7(t,e,n,r,i){const s={};for(const o of r)if(Ah(t,n,o)&&!i[Pn(o)]){const a=new ie([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Pn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ie(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Ah(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function B1(t,e,n,r){return!!(Pn(t)===r||r!==Z&&Ah(e,n,t))&&("**"===t.path||k_(e,t,n).matched)}function $1(t,e,n){return 0===e.length&&!t.children[n]}const xh=!1;class Rh{constructor(e){this.segmentGroup=e||null}}class j1{constructor(e){this.urlTree=e}}function ic(t){return Gu(new Rh(t))}function H1(t){return Gu(new j1(t))}class L7{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Sh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,Z).pipe(se(s=>this.createUrlTree(wh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Di(s=>{if(s instanceof j1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Z).pipe(se(i=>this.createUrlTree(wh(i),e.queryParams,e.fragment))).pipe(Di(i=>{throw i instanceof Rh?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,xh)}createUrlTree(e,n,r){const i=g_(e);return new bi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(se(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return it(i).pipe(fs(s=>{const o=r.children[s],a=F1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(u=>({segment:u,outlet:s})))}),n1((s,o)=>(s[o.outlet]=o.segment,s),{}),r1())}expandSegment(e,n,r,i,s,o){return it(r).pipe(fs(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Di(c=>{if(c instanceof Rh)return $(null);throw c}))),Ei(a=>!!a),Di((a,u)=>{if(R_(a))return $1(n,i,s)?$(new ie([],{})):ic(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return B1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ic(n):ic(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?H1(s):this.lineralizeSegments(r,s).pipe(wt(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=k_(n,i,s);if(!a)return ic(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?H1(d):this.lineralizeSegments(i,d).pipe(wt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=O1(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):$(new ie(i,{}))):U1(n,r,i,e).pipe(pr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(wt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Sh(n,a,u,h),g=new ie(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(se(_=>new ie(a,_)));if(0===h.length&&0===p.length)return $(new ie(a,{}));const m=Pn(r)===s;return this.expandSegment(d,g,h,p,m?Z:s,!0).pipe(se(E=>new ie(a.concat(E.segments),E.children)))})):ic(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function A7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=Qo(o,t);return Ti(function p7(t){return t&&rc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yo(),V1())}(e,n,r).pipe(wt(i=>i?this.configLoader.loadChildren(e,n).pipe(Dt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function O7(t){return Gu(M1(xh,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[Z])return e.redirectTo,Gu(new x(4e3,xh));i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new bi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Tt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Tt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,xh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class U7{}class j7{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Sh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Z).pipe(se(n=>{if(null===n)return null;const r=new Dh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qr(r,n),s=new A1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=S1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return it(Object.keys(r.children)).pipe(fs(i=>{const s=r.children[i],o=F1(n,i);return this.processSegmentGroup(e,o,s,i)}),n1((i,s)=>i&&s?(i.push(...s),i):null),function aW(t,e=!1){return lt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),fh(null),r1(),se(i=>{if(null===i)return null;const s=z1(i);return function H7(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return it(n).pipe(fs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ei(o=>!!o),Di(o=>{if(R_(o))return $1(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!B1(n,r,i,s))return $(null);let o;if("**"===n.path){const a=i.length>0?o1(i).parameters:{},u=W1(r)+i.length;o=$({snapshot:new Dh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K1(n),Pn(n),n.component??n._loadedComponent??null,n,q1(r),u,Q1(n)),consumedSegments:[],remainingSegments:[]})}else o=U1(r,n,i,e).pipe(se(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=W1(r)+u.length;return{snapshot:new Dh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K1(n),Pn(n),n.component??n._loadedComponent??null,n,q1(r),d,Q1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(pr(a=>{if(null===a)return $(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function G7(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Sh(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(m=>null===m?null:[new Qr(u,m)]));if(0===h.length&&0===p.length)return $([new Qr(u,[])]);const g=Pn(n)===s;return this.processSegment(d,h,f,p,g?Z:s).pipe(se(m=>null===m?null:[new Qr(u,m)]))}))}}function z7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function z1(t){const e=[],n=new Set;for(const r of t){if(!z7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=z1(r.children);e.push(new Qr(r.value,i))}return e.filter(r=>!n.has(r))}function q1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function W1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function K1(t){return t.data||{}}function Q1(t){return t.resolve||{}}function Y1(t){return"string"==typeof t.title||null===t.title}function N_(t){return pr(e=>{const n=t(e);return n?it(n).pipe(se(()=>e)):$(e)})}const Jo=new U("ROUTES");let P_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(RM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ti(n.loadComponent()).pipe(se(X1),Dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),h_(()=>{this.componentLoaders.delete(n)})),i=new e1(r,()=>new Rr).pipe(l_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=s1(u.get(Jo,[],z.Self|z.Optional)));return{routes:c.map(x_),injector:u}}),h_(()=>{this.childrenLoaders.delete(r)})),o=new e1(s,()=>new Rr).pipe(l_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ti(n()).pipe(se(X1),wt(r=>r instanceof BR||Array.isArray(r)?$(r):it(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function X1(t){return function Z7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let kh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rr,this.configLoader=ue(P_),this.environmentInjector=ue(Br),this.urlSerializer=ue(Wu),this.rootContexts=ue(Zu),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new UW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Jn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ju,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(r=>0!==r.id),se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),pr(r=>{let i=!1,s=!1;return $(r).pipe(Dt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Eh(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),rr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z1(o.source)&&(n.browserUrlTree=o.extractedUrl),$(o).pipe(pr(l=>{const d=this.transitions?.getValue();return this.events.next(new v_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?rr:Promise.resolve(l)}),function V7(t,e,n,r){return pr(i=>function F7(t,e,n,r,i){return new L7(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(se(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Dt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function W7(t,e,n,r,i){return wt(s=>function $7(t,e,n,r,i,s,o="emptyOnly"){return new j7(t,e,n,r,i,o,s).recognize().pipe(pr(a=>null===a?function B7(t){return new Le(e=>e.error(t))}(new U7):$(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(se(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Dt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new PW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new v_(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=C1(d,this.rootComponentType).snapshot;return $(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Eh(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),rr}}),Dt(o=>{const a=new OW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),se(o=>r={...o,guards:c7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function w7(t,e){return wt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function I7(t,e,n,r){return it(t).pipe(wt(i=>function S7(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=ec(e)??i,c=Qo(a,u);return Ti(function y7(t){return t&&rc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ei())})).pipe(Yo()):$(!0)}(i.component,i.route,n,e,r)),Ei(i=>!0!==i,!0))}(o,r,i,t).pipe(wt(a=>a&&function f7(t){return"boolean"==typeof t}(a)?function E7(t,e,n,r){return it(e).pipe(fs(i=>c_(function T7(t,e){return null!==t&&e&&e(new $W(t)),$(!0)}(i.route.parent,r),function D7(t,e){return null!==t&&e&&e(new HW(t)),$(!0)}(i.route,r),function C7(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function l7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Zk(()=>$(o.guards.map(u=>{const c=ec(o.node)??n,l=Qo(u,c);return Ti(function m7(t){return t&&rc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ei())})).pipe(Yo())));return $(s).pipe(Yo())}(t,i.path,n),function b7(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>Zk(()=>{const o=ec(e)??n,a=Qo(s,o);return Ti(function g7(t){return t&&rc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ei())}));return $(i).pipe(Yo())}(t,i.route,n))),Ei(i=>!0!==i,!0))}(r,s,t,e):$(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Dt(o=>{if(r.guardsResult=o.guardsResult,gs(o.guardsResult))throw R1(0,o.guardsResult);const a=new FW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ii(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),N_(o=>{if(o.guards.canActivateChecks.length)return $(o).pipe(Dt(a=>{const u=new LW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),pr(a=>{let u=!1;return $(a).pipe(function K7(t,e){return wt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return it(i).pipe(fs(o=>function Q7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Y1(i)&&(s[zu]=i.title),function Y7(t,e,n,r){const i=function J7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return it(i).pipe(wt(o=>function X7(t,e,n,r){const i=ec(e)??r,s=Qo(t,i);return Ti(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ei(),Dt(a=>{s[o]=a}))),d_(1),function uW(t){return se(()=>t)}(s),Di(o=>R_(o)?rr:Gu(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=S1(t,n).resolve,i&&Y1(i)&&(t.data[zu]=i.title),null)))}(o.route,r,t,e)),Dt(()=>s++),d_(1),wt(o=>s===i.length?$(n):rr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Dt(a=>{const u=new VW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),N_(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Dt(l=>{u.component=l}),se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Jk(a(o.targetSnapshot.root)).pipe(fh(),jo(1))}),N_(()=>this.afterPreactivation()),se(o=>{const a=function XW(t,e,n){const r=Xu(t,e._root,n?n._root:void 0);return new b1(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Dt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>se(r=>(new u7(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),jo(1),Dt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ms(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),h_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Di(o=>{if(s=!0,N1(o)){k1(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Ih(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),k1(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Z1(r.source)};n.scheduleNavigation(u,Ju,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new w_(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return rr}))}))}cancelNavigationTransition(n,r,i){const s=new Ih(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Z1(t){return t!==Ju}let eN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[zu]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return ue(e8)},providedIn:"root"}),t})(),e8=(()=>{class t extends eN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(V(Kk))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return ue(r8)},providedIn:"root"}),t})();class n8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let r8=(()=>{class t extends n8{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function sS(t){return kr(()=>{const e=t.prototype.constructor,n=e[Pr]||Fg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Pr]||Fg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nh=new U("",{providedIn:"root",factory:()=>({})});let s8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return ue(o8)},providedIn:"root"}),t})(),o8=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a8(t){throw t}function u8(t,e,n){return e.parse("/")}const c8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ue(kq),this.isNgZoneEnabled=!1,this.options=ue(Nh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||a8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||u8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ue(s8),this.routeReuseStrategy=ue(t8),this.urlCreationStrategy=ue(QW),this.titleStrategy=ue(eN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=s1(ue(Jo,{optional:!0})??[]),this.navigationTransitions=ue(kh),this.urlSerializer=ue(Wu),this.location=ue(Vy),this.isNgZoneEnabled=ue(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=C1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ju,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(x_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=gs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ju,null,r)}navigate(n,r={skipLocationChange:!1}){return function d8(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new x(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...c8}:!1===r?{...l8}:r,gs(n))return u1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return u1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tN{}let p8=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(n=>n instanceof ms),fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ud(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return it(i).pipe(to())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(wt(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?it([s,this.loader.loadComponent(r)]).pipe(to()):s})}}return t.\u0275fac=function(n){return new(n||t)(V(wn),V(RM),V(Br),V(tN),V(P_))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L_=new U("");let nN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof v_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ms&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof D1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new D1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function FA(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();var In=(()=>((In=In||{})[In.COMPLETE=0]="COMPLETE",In[In.FAILED=1]="FAILED",In[In.REDIRECTING=2]="REDIRECTING",In))();const Xo=!1;function Ci(t,e){return{\u0275kind:t,\u0275providers:e}}const V_=new U("",{providedIn:"root",factory:()=>!1});function iN(){const t=ue(Hn);return e=>{const n=t.get(Wd);if(e!==n.components[0])return;const r=t.get(wn),i=t.get(sN);1===t.get(U_)&&r.initialNavigation(),t.get(oN,null,z.Optional)?.setUpPreloading(),t.get(L_,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const sN=new U(Xo?"bootstrap done indicator":"",{factory:()=>new Rr}),U_=new U(Xo?"initial navigation":"",{providedIn:"root",factory:()=>1});function v8(){let t=[];return t=Xo?[{provide:yd,multi:!0,useFactory:()=>{const e=ue(wn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function zW(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Ci(1,t)}const oN=new U(Xo?"router preloader":"");function w8(t){return Ci(0,[{provide:oN,useExisting:p8},{provide:tN,useExisting:t}])}const sc=!1,aN=new U(sc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),I8=[Vy,{provide:Wu,useClass:f_},wn,Zu,{provide:Ko,useFactory:function rN(t){return t.routerState.root},deps:[wn]},P_,sc?{provide:V_,useValue:!0}:[]];function E8(){return new VM("Router",wn)}let B_=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[I8,sc&&r?.enableTracing?v8().\u0275providers:[],{provide:Jo,multi:!0,useValue:n},{provide:aN,useFactory:C8,deps:[[wn,new Wt,new du]]},{provide:Nh,useValue:r||{}},r?.useHash?{provide:hs,useClass:v6}:{provide:hs,useClass:ak},{provide:L_,useFactory:()=>{const t=ue(B9),e=ue(Me),n=ue(Nh),r=ue(kh),i=ue(Wu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nN(i,r,t,e,n)}},r?.preloadingStrategy?w8(r.preloadingStrategy).\u0275providers:[],{provide:VM,multi:!0,useFactory:E8},r?.initialNavigation?S8(r):[],[{provide:uN,useFactory:iN},{provide:LM,multi:!0,useExisting:uN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Jo,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(V(aN,8))},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({imports:[S_]}),t})();function C8(t){if(sc&&t)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function S8(t){return["disabled"===t.initialNavigation?Ci(3,[{provide:Hd,multi:!0,useFactory:()=>{const e=ue(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:U_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ci(2,[{provide:U_,useValue:0},{provide:Hd,multi:!0,deps:[Hn],useFactory:e=>{const n=e.get(y6,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(wn),s=e.get(sN);(function g8(t,e){t.events.pipe(Ii(n=>n instanceof ms||n instanceof Ih||n instanceof w_||n instanceof Eh),se(n=>n instanceof ms||n instanceof Eh?In.COMPLETE:n instanceof Ih&&(0===n.code||1===n.code)?In.REDIRECTING:In.FAILED),Ii(n=>n!==In.REDIRECTING),jo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(kh).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const uN=new U(sc?"Router Initializer":""),x8=[];let R8=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({imports:[B_.forRoot(x8),B_]}),e})();function cN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){cN(s,r,i,o,a,"next",u)}function a(u){cN(s,r,i,o,a,"throw",u)}o(void 0)})}}const lN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new P8;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ph=function(t){return function(t){const e=lN(t);return j_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Oh=function(t){try{return j_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Fh=()=>{try{return function L8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},j8=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Fh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hN=()=>{var t;return null===(t=Fh())||void 0===t?void 0:t.config};class Lh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function En(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ys(){try{return"object"==typeof indexedDB}catch{return!1}}function oc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function G_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yr.prototype.create)}}class yr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Q8(t,e){return t.replace(Y8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Y8=/\{\$([^}]+)}/g;function z_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pN(s)&&pN(o)){if(!z_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pN(t){return null!==t&&"object"==typeof t}function gN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class X8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Z8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=q_),void 0===i.error&&(i.error=q_),void 0===i.complete&&(i.complete=q_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q_(){}const eK=1e3,tK=2,nK=144e5,rK=.5;function K_(t,e=eK,n=tK){const r=e*Math.pow(n,t),i=Math.round(rK*r*(Math.random()-.5)*2);return Math.min(nK,r+i)}function On(t){return t&&t._delegate?t._delegate:t}class Lt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class sK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function aK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===_s?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class uK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Q_=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const mN={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},cK=ce.INFO,lK={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},dK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=lK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Zo{constructor(e){this.name=e,this._logLevel=cK,this._logHandler=dK,this._userLogHandler=null,Q_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const hK=(t,e)=>e.some(n=>t instanceof n);let yN,_N;const vN=new WeakMap,Y_=new WeakMap,wN=new WeakMap,J_=new WeakMap,X_=new WeakMap;let Z_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Y_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vK(t){return"function"==typeof t?function _K(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pK(){return _N||(_N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ev(this),e),Si(vN.get(this))}:function(...e){return Si(t.apply(ev(this),e))}:function(e,...n){const r=t.call(ev(this),e,...n);return wN.set(r,e.sort?e.sort():[e]),Si(r)}}(t):(t instanceof IDBTransaction&&function mK(t){if(Y_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Y_.set(t,e)}(t),hK(t,function fK(){return yN||(yN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Z_):t)}function Si(t){if(t instanceof IDBRequest)return function gK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),X_.set(e,t),e}(t);if(J_.has(t))return J_.get(t);const e=vK(t);return e!==t&&(J_.set(t,e),X_.set(e,t)),e}const ev=t=>X_.get(t),IK=["get","getKey","getAll","getAllKeys","count"],EK=["put","add","delete","clear"],tv=new Map;function IN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!IK.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tv.set(e,s),s}!function yK(t){Z_=t(Z_)}(t=>({...t,get:(e,n,r)=>IN(e,n)||t.get(e,n,r),has:(e,n)=>!!IN(e,n)||t.has(e,n)}));class DK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function TK(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const nv="@firebase/app",vs=new Zo("@firebase/app"),Uh="[DEFAULT]",YK={[nv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ws=new Map,Bh=new Map;function JK(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jt(t){const e=t.name;if(Bh.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const n of ws.values())JK(n,t);return!0}function $h(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Yr=new yr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ZK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const ac="9.23.0";function DN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Uh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=hN()),!n)throw Yr.create("no-options");const s=ws.get(i);if(s){if(z_(n,s.options)&&z_(r,s.config))return s;throw Yr.create("duplicate-app",{appName:i})}const o=new uK(i);for(const u of Bh.values())o.addComponent(u);const a=new ZK(n,r,o);return ws.set(i,a),a}function TN(t=Uh){const e=ws.get(t);if(!e&&t===Uh&&hN())return DN();if(!e)throw Yr.create("no-app",{appName:t});return e}function bN(){return Array.from(ws.values())}function We(t,e,n){var r;let i=null!==(r=YK[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vs.warn(a.join(" "))}Jt(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eQ="firebase-heartbeat-database",tQ=1,uc="firebase-heartbeat-store";let iv=null;function CN(){return iv||(iv=function wK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Si(o.result),u.oldVersion,u.newVersion,Si(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(eQ,tQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(uc)}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),iv}function sv(){return(sv=y(function*(t){try{return yield(yield CN()).transaction(uc).objectStore(uc).get(AN(t))}catch(e){if(e instanceof Xn)vs.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}})).apply(this,arguments)}function SN(t,e){return ov.apply(this,arguments)}function ov(){return(ov=y(function*(t,e){try{const r=(yield CN()).transaction(uc,"readwrite");yield r.objectStore(uc).put(e,AN(t)),yield r.done}catch(n){if(n instanceof Xn)vs.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n?.message});vs.warn(r.message)}}})).apply(this,arguments)}function AN(t){return`${t.name}!${t.options.appId}`}class sQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=xN(),{heartbeatsToSend:r,unsentEntries:i}=function oQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ph(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function xN(){return(new Date).toISOString().substring(0,10)}class aQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!ys()&&oc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function nQ(t){return sv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function RN(t){return Ph(JSON.stringify({version:2,heartbeats:t})).length}!function uQ(t){Jt(new Lt("platform-logger",e=>new DK(e),"PRIVATE")),Jt(new Lt("heartbeat",e=>new sQ(e),"PRIVATE")),We(nv,"0.9.13",t),We(nv,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const dQ=(t,e)=>e.some(n=>t instanceof n);let MN,kN;const NN=new WeakMap,av=new WeakMap,PN=new WeakMap,uv=new WeakMap,cv=new WeakMap;let lv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return av.get(t);if("objectStoreNames"===e)return t.objectStoreNames||PN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _Q(t){return"function"==typeof t?function yQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fQ(){return kN||(kN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(dv(this),e),Ai(NN.get(this))}:function(...e){return Ai(t.apply(dv(this),e))}:function(e,...n){const r=t.call(dv(this),e,...n);return PN.set(r,e.sort?e.sort():[e]),Ai(r)}}(t):(t instanceof IDBTransaction&&function gQ(t){if(av.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});av.set(t,e)}(t),dQ(t,function hQ(){return MN||(MN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,lv):t)}function Ai(t){if(t instanceof IDBRequest)return function pQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NN.set(n,t)}).catch(()=>{}),cv.set(e,t),e}(t);if(uv.has(t))return uv.get(t);const e=_Q(t);return e!==t&&(uv.set(t,e),cv.set(e,t)),e}const dv=t=>cv.get(t),wQ=["get","getKey","getAll","getAllKeys","count"],IQ=["put","add","delete","clear"],hv=new Map;function ON(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hv.get(e))return hv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wQ.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return hv.set(e,s),s}!function mQ(t){lv=t(lv)}(t=>({...t,get:(e,n,r)=>ON(e,n)||t.get(e,n,r),has:(e,n)=>!!ON(e,n)||t.has(e,n)}));const FN="@firebase/installations",fv="0.6.4",LN=1e4,VN=`w:${fv}`,UN="FIS_v2",EQ="https://firebaseinstallations.googleapis.com/v1",DQ=36e5,Jr=new yr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function BN(t){return t instanceof Xn&&t.code.includes("request-failed")}function pv({projectId:t}){return`${EQ}/projects/${t}/installations`}function $N(t){return{token:t.token,requestStatus:2,expiresIn:SQ(t.expiresIn),creationTime:Date.now()}}function gv(t,e){return mv.apply(this,arguments)}function mv(){return(mv=y(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function jN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yv(t){return _v.apply(this,arguments)}function _v(){return(_v=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function SQ(t){return Number(t.replace("s","000"))}function vv(){return(vv=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pv(t),i=jN(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:UN,appId:t.appId,sdkVersion:VN})},u=yield yv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:$N(c.authToken)}}throw yield gv("Create Installation",u)})).apply(this,arguments)}function GN(t){return new Promise(e=>{setTimeout(e,t)})}const MQ=/^[cdef][\w-]{21}$/,wv="";function kQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function NQ(t){return function RQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return MQ.test(n)?n:wv}catch{return wv}}function ea(t){return`${t.appName}!${t.appId}`}const ta=new Map;function zN(t,e){const n=ea(t);qN(n,e),function FQ(t,e){const n=function WN(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{qN(t.data.key,t.data.fid)}),Is}();n&&n.postMessage({key:t,fid:e}),function KN(){0===ta.size&&Is&&(Is.close(),Is=null)}()}(n,e)}function qN(t,e){const n=ta.get(t);if(n)for(const r of n)r(e)}let Is=null;const LQ="firebase-installations-database",VQ=1,Es="firebase-installations-store";let Iv=null;function Ev(){return Iv||(Iv=function vQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ai(o.result),u.oldVersion,u.newVersion,Ai(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(LQ,VQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Es)}})),Iv}function jh(t,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=y(function*(t,e){const n=ea(t),i=(yield Ev()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&zN(t,e.fid),e})).apply(this,arguments)}function Tv(t){return bv.apply(this,arguments)}function bv(){return(bv=y(function*(t){const e=ea(t),r=(yield Ev()).transaction(Es,"readwrite");yield r.objectStore(Es).delete(e),yield r.done})).apply(this,arguments)}function cc(t,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=y(function*(t,e){const n=ea(t),i=(yield Ev()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&zN(t,a.fid),a})).apply(this,arguments)}function Sv(t){return Av.apply(this,arguments)}function Av(){return Av=y(function*(t){let e;const n=yield cc(t.appConfig,r=>{const i=function UQ(t){return YN(t||{fid:kQ(),registrationStatus:0})}(r),s=function BQ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function $Q(t,e){return xv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jQ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===wv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Av.apply(this,arguments)}function xv(){return xv=y(function*(t,e){try{const n=yield function xQ(t,e){return vv.apply(this,arguments)}(t,e);return jh(t.appConfig,n)}catch(n){throw BN(n)&&409===n.customData.serverCode?yield Tv(t.appConfig):yield jh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),xv.apply(this,arguments)}function jQ(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=y(function*(t){let e=yield QN(t.appConfig);for(;1===e.registrationStatus;)yield GN(100),e=yield QN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Sv(t);return r||n}return e})).apply(this,arguments)}function QN(t){return cc(t,e=>{if(!e)throw Jr.create("installation-not-found");return YN(e)})}function YN(t){return function HQ(t){return 1===t.registrationStatus&&t.registrationTime+LN<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Mv(){return(Mv=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function zQ(t,{fid:e}){return`${pv(t)}/${e}/authTokens:generate`}(t,n),i=function HN(t,{refreshToken:e}){const n=jN(t);return n.append("Authorization",function AQ(t){return`${UN} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:VN,appId:t.appId}})},u=yield yv(()=>fetch(r,a));if(u.ok)return $N(yield u.json());throw yield gv("Generate Auth Token",u)})).apply(this,arguments)}function kv(t){return Nv.apply(this,arguments)}function Nv(){return Nv=y(function*(t,e=!1){let n;const r=yield cc(t.appConfig,s=>{if(!XN(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&function KQ(t){return 2===t.requestStatus&&!function QQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DQ}(t)}(o))return s;if(1===o.requestStatus)return n=function qQ(t,e){return Pv.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=function YQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function WQ(t,e){return Ov.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Nv.apply(this,arguments)}function Pv(){return(Pv=y(function*(t,e){let n=yield JN(t.appConfig);for(;1===n.authToken.requestStatus;)yield GN(100),n=yield JN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?kv(t,e):r})).apply(this,arguments)}function JN(t){return cc(t,e=>{if(!XN(e))throw Jr.create("not-registered");return function JQ(t){return 1===t.requestStatus&&t.requestTime+LN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ov(){return Ov=y(function*(t,e){try{const n=yield function GQ(t,e){return Mv.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield jh(t.appConfig,r),n}catch(n){if(!BN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jh(t.appConfig,r)}else yield Tv(t.appConfig);throw n}}),Ov.apply(this,arguments)}function XN(t){return void 0!==t&&2===t.registrationStatus}function Fv(){return(Fv=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Sv(e);return r?r.catch(console.error):kv(e).catch(console.error),n.fid})).apply(this,arguments)}function Lv(){return Lv=y(function*(t,e=!1){const n=t;return yield function eY(t){return Vv.apply(this,arguments)}(n),(yield kv(n,e)).token}),Lv.apply(this,arguments)}function Vv(){return(Vv=y(function*(t){const{registrationPromise:e}=yield Sv(t);e&&(yield e)})).apply(this,arguments)}function $v(t){return Jr.create("missing-app-config-values",{valueName:t})}const ZN="installations",sY=t=>{const e=t.getProvider("app").getImmediate(),n=function rY(t){if(!t||!t.options)throw $v("App Configuration");if(!t.name)throw $v("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $v(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:$h(e,"heartbeat"),_delete:()=>Promise.resolve()}},oY=t=>{const n=$h(t.getProvider("app").getImmediate(),ZN).getImmediate();return{getId:()=>function XQ(t){return Fv.apply(this,arguments)}(n),getToken:i=>function ZQ(t){return Lv.apply(this,arguments)}(n,i)}};(function aY(){Jt(new Lt(ZN,sY,"PUBLIC")),Jt(new Lt("installations-internal",oY,"PRIVATE"))})(),We(FN,fv),We(FN,fv,"esm2017");const jv="@firebase/remote-config",cn=new yr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _Y{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function vY(t=navigator){return t.languages&&t.languages[0]||t.language}class wY{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:vY()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,E)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",E(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let E="fetch-client-network";throw"AbortError"===w?.name&&(E="fetch-timeout"),cn.create(E,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(E){throw cn.create("fetch-client-parse",{originalErrorMessage:E?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class DY{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function IY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function EY(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+K_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class CY{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gh(t,e){const n=t.target.error||void 0;return cn.create(e,{originalErrorMessage:n&&n?.message})}const Ds="app_namespace_store";class RY{constructor(e,n,r,i=function xY(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Gh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(n){e(cn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ds],"readonly").objectStore(Ds),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Gh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(cn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ds],"readwrite").objectStore(Ds),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Gh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(cn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ds],"readwrite").objectStore(Ds),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Gh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(cn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class MY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function NY(){return Wv.apply(this,arguments)}function Wv(){return(Wv=y(function*(){if(!ys())return!1;try{return yield oc()}catch{return!1}})).apply(this,arguments)}!function kY(){Jt(new Lt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cn.create("registration-window");if(!ys())throw cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw cn.create("registration-project-id");if(!o)throw cn.create("registration-api-key");if(!a)throw cn.create("registration-app-id");const u=new RY(a,r.name,n=n||"firebase"),c=new MY(u),l=new Zo(jv);l.logLevel=ce.ERROR;const d=new wY(i,ac,n,s,o,a),h=new DY(d,u),f=new _Y(h,u,c,l),p=new CY(r,f,c,u,l);return function gY(t){const e=On(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(jv,"0.4.4"),We(jv,"0.4.4","esm2017")}();const PY=(t,e)=>e.some(n=>t instanceof n);let rP,iP;const sP=new WeakMap,Kv=new WeakMap,oP=new WeakMap,Qv=new WeakMap,Yv=new WeakMap;let Jv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||oP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $Y(t){return"function"==typeof t?function BY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function FY(){return iP||(iP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Xv(this),e),Xr(sP.get(this))}:function(...e){return Xr(t.apply(Xv(this),e))}:function(e,...n){const r=t.call(Xv(this),e,...n);return oP.set(r,e.sort?e.sort():[e]),Xr(r)}}(t):(t instanceof IDBTransaction&&function VY(t){if(Kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kv.set(t,e)}(t),PY(t,function OY(){return rP||(rP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jv):t)}function Xr(t){if(t instanceof IDBRequest)return function LY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sP.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}(t);if(Qv.has(t))return Qv.get(t);const e=$Y(t);return e!==t&&(Qv.set(t,e),Yv.set(e,t)),e}const Xv=t=>Yv.get(t);function aP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xr(o.result),u.oldVersion,u.newVersion,Xr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Zv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Xr(n).then(()=>{})}const jY=["get","getKey","getAll","getAllKeys","count"],HY=["put","add","delete","clear"],ew=new Map;function uP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ew.get(e))return ew.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jY.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return ew.set(e,s),s}!function UY(t){Jv=t(Jv)}(t=>({...t,get:(e,n,r)=>uP(e,n)||t.get(e,n,r),has:(e,n)=>!!uP(e,n)||t.has(e,n)}));const GY="/firebase-messaging-sw.js",zY="/firebase-cloud-messaging-push-scope",cP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qY="https://fcmregistrations.googleapis.com/v1",lP="google.c.a.c_id",WY="google.c.a.c_l",KY="google.c.a.ts",QY="google.c.a.e";var na=(()=>{return(t=na||(na={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",na;var t})();function Zr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function YY(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const tw="fcm_token_details_db",JY=5,dP="fcm_token_object_Store";function nw(){return nw=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(tw))return null;let e=null;return(yield aP(tw,JY,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(dP))return;const c=a.objectStore(dP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Zr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zr(d.auth),p256dh:Zr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zr(d.auth),p256dh:Zr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Zv(tw),yield Zv("fcm_vapid_details_db"),yield Zv("undefined"),function ZY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),nw.apply(this,arguments)}const eJ="firebase-messaging-database",tJ=1,Ts="firebase-messaging-store";let rw=null;function iw(){return rw||(rw=aP(eJ,tJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ts)}})),rw}function hP(t){return sw.apply(this,arguments)}function sw(){return sw=y(function*(t){const e=cw(t),r=yield(yield iw()).transaction(Ts).objectStore(Ts).get(e);if(r)return r;{const i=yield function XY(t){return nw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield ow(t,i),i}}),sw.apply(this,arguments)}function ow(t,e){return aw.apply(this,arguments)}function aw(){return(aw=y(function*(t,e){const n=cw(t),i=(yield iw()).transaction(Ts,"readwrite");return yield i.objectStore(Ts).put(e,n),yield i.done,e})).apply(this,arguments)}function uw(){return(uw=y(function*(t){const e=cw(t),r=(yield iw()).transaction(Ts,"readwrite");yield r.objectStore(Ts).delete(e),yield r.done})).apply(this,arguments)}function cw({appConfig:t}){return t.appId}const bt=new yr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function iJ(t,e){return lw.apply(this,arguments)}function lw(){return(lw=y(function*(t,e){const n=yield pw(t),r=pP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(fw(t.appConfig),i)).json()}catch(o){throw bt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw bt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw bt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function dw(){return(dw=y(function*(t,e){const n=yield pw(t),r=pP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${fw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw bt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw bt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw bt.create("token-update-no-token");return s.token})).apply(this,arguments)}function fP(t,e){return hw.apply(this,arguments)}function hw(){return(hw=y(function*(t,e){const r={method:"DELETE",headers:yield pw(t)};try{const s=yield(yield fetch(`${fw(t.appConfig)}/${e}`,r)).json();if(s.error)throw bt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw bt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function fw({projectId:t}){return`${qY}/projects/${t}/registrations`}function pw(t){return gw.apply(this,arguments)}function gw(){return(gw=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function pP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==cP&&(i.web.applicationPubKey=r),i}const oJ=6048e5;function mw(){return mw=y(function*(t){const e=yield function cJ(t,e){return ww.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zr(e.getKey("auth")),p256dh:Zr(e.getKey("p256dh"))},r=yield hP(t.firebaseDependencies);if(r){if(function lJ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+oJ?function uJ(t,e){return _w.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield fP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return mP(t.firebaseDependencies,n)}return mP(t.firebaseDependencies,n)}),mw.apply(this,arguments)}function yw(){return yw=y(function*(t){const e=yield hP(t.firebaseDependencies);e&&(yield fP(t.firebaseDependencies,e.token),yield function nJ(t){return uw.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),yw.apply(this,arguments)}function _w(){return _w=y(function*(t,e){try{const n=yield function sJ(t,e){return dw.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield ow(t.firebaseDependencies,r),n}catch(n){throw yield function gP(t){return yw.apply(this,arguments)}(t),n}}),_w.apply(this,arguments)}function mP(t,e){return vw.apply(this,arguments)}function vw(){return(vw=y(function*(t,e){const r={token:yield iJ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield ow(t,r),r.token})).apply(this,arguments)}function ww(){return(ww=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:YY(e)})})).apply(this,arguments)}function yP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function dJ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function hJ(t,e){e.data&&(t.data=e.data)}(e,t),function fJ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function _P(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Iw(t){return bt.create("missing-app-config-values",{valueName:t})}_P("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_P("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mJ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function gJ(t){if(!t||!t.options)throw Iw("App Configuration Object");if(!t.name)throw Iw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Iw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function vP(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(GY,{scope:zY}),t.swRegistration.update().catch(()=>{})}catch(e){throw bt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Dw(){return(Dw=y(function*(t,e){if(!e&&!t.swRegistration&&(yield vP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Tw(){return(Tw=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=cP)})).apply(this,arguments)}function bw(){return bw=y(function*(t,e){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield function _J(t,e){return Tw.apply(this,arguments)}(t,e?.vapidKey),yield function yJ(t,e){return Dw.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function aJ(t){return mw.apply(this,arguments)}(t)}),bw.apply(this,arguments)}function Cw(){return(Cw=y(function*(t,e,n){const r=function wJ(t){switch(t){case na.NOTIFICATION_CLICKED:return"notification_open";case na.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[lP],message_name:n[WY],message_time:n[KY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sw(){return Sw=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===na.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(yP(n)):t.onMessageHandler.next(yP(n)));const r=n.data;(function pJ(t){return"object"==typeof t&&!!t&&lP in t})(r)&&"1"===r[QY]&&(yield function vJ(t,e,n){return Cw.apply(this,arguments)}(t,n.messageType,r))}),Sw.apply(this,arguments)}const IP="@firebase/messaging",EJ=t=>{const e=new mJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function IJ(t,e){return Sw.apply(this,arguments)}(e,n)),e},DJ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function wP(t,e){return bw.apply(this,arguments)}(e,r)}};function DP(){return Aw.apply(this,arguments)}function Aw(){return(Aw=y(function*(){try{yield oc()}catch{return!1}return typeof window<"u"&&ys()&&G_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function TJ(){Jt(new Lt("messaging",EJ,"PUBLIC")),Jt(new Lt("messaging-internal",DJ,"PRIVATE")),We(IP,"0.12.4"),We(IP,"0.12.4","esm2017")}();const zh="analytics",SJ="firebase_id",AJ="origin",xJ=6e4,RJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mw="https://www.googletagmanager.com/gtag/js",ht=new Zo("@firebase/analytics"),Xt=new yr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function kJ(t){if(!t.startsWith(Mw)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return ht.warn(e.message),""}return t}function TP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kw(){return(kw=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield TP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){ht.error(a)}t("config",i,s)})).apply(this,arguments)}function Nw(){return(Nw=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield TP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ht.error(s)}})).apply(this,arguments)}const $J=30,bP=new class HJ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function GJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Pw(){return(Pw=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:GJ(r)},s=RJ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Ow(){return(Ow=y(function*(t,e=bP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new QJ;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:xJ),CP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function CP(t,e,n){return Fw.apply(this,arguments)}function Fw(){return Fw=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=bP){var s;const{appId:o,measurementId:a}=t;try{yield function WJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function zJ(t){return Pw.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function KJ(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?K_(n,i.intervalMillis,$J):K_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),ht.debug(`Calling attemptFetch again in ${l} millis`),CP(t,d,r,i)}}),Fw.apply(this,arguments)}class QJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Lw,Gw;function Vw(){return(Vw=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function zw(){return(zw=y(function*(){if(!ys())return ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield oc()}catch(t){return ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function qw(){return qw=y(function*(t,e,n,r,i,s,o){var a;const u=function qJ(t){return Ow.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ht.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ht.error(f)),e.push(u);const c=function nX(){return zw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function BJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Mw)&&n.src.includes(t))return n;return null})(s)||function PJ(t,e){const n=function NJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:kJ}),r=document.createElement("script"),i=`${Mw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Gw&&(i("consent","default",Gw),function SP(t){Gw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[AJ]="firebase",h.update=!0,null!=d&&(h[SJ]=d),i("config",l.measurementId,h),Lw&&(i("set",Lw),function AP(t){Lw=t}(void 0)),l.measurementId}),qw.apply(this,arguments)}class iX{constructor(e){this.app=e}_delete(){return delete _r[this.app.options.appId],Promise.resolve()}}let _r={},xP=[];const RP={};let kP,vr,qh="dataLayer",MP="gtag",Ww=!1;function oX(t,e,n){!function sX(){const t=[];if(H_()&&t.push("This is a browser extension environment."),G_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});ht.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xt.create("no-api-key");ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_r[r])throw Xt.create("already-exists",{id:r});if(!Ww){!function OJ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(qh);const{wrappedGtag:s,gtagCore:o}=function UJ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function VJ(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function LJ(t,e,n,r,i){return Nw.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function FJ(t,e,n,r,i,s){return kw.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){ht.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(_r,xP,RP,qh,MP);vr=s,kP=o,Ww=!0}return _r[r]=function rX(t,e,n,r,i,s,o){return qw.apply(this,arguments)}(t,xP,RP,e,kP,qh,n),new iX(t)}function uX(){return Kw.apply(this,arguments)}function Kw(){return(Kw=y(function*(){if(H_()||!G_()||!ys())return!1;try{return yield oc()}catch{return!1}})).apply(this,arguments)}const NP="@firebase/analytics";!function lX(){Jt(new Lt(zh,(e,{options:n})=>oX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Jt(new Lt("analytics-internal",function t(e){try{const n=e.getProvider(zh).getImmediate();return{logEvent:(r,i,s)=>function cX(t,e,n,r){t=On(t),function YJ(t,e,n,r,i){return Vw.apply(this,arguments)}(vr,_r[t.app.options.appId],e,n,r).catch(i=>ht.error(i))}(n,r,i,s)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(NP,"0.10.0"),We(NP,"0.10.0","esm2017")}();class dX extends fn{constructor(e,n){super()}schedule(e,n=0){return this}}const Wh={setInterval(t,e,...n){const{delegate:r}=Wh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Wh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class OP extends dX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Wh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Wh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,eo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const FP={now:()=>(FP.delegate||Date).now(),delegate:void 0};class lc{constructor(e,n=lc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}lc.now=FP.now;class LP extends lc{constructor(e,n=lc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const pX=new class fX extends LP{}(class hX extends OP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),gX=new LP(OP),Yw=new Iu("7.6.1"),Jw="__angularfire_symbol__analyticsIsSupportedValue",Xw="__angularfire_symbol__analyticsIsSupported",Zw="__angularfire_symbol__remoteConfigIsSupportedValue",eI="__angularfire_symbol__remoteConfigIsSupported",tI="__angularfire_symbol__messagingIsSupportedValue",nI="__angularfire_symbol__messagingIsSupported";globalThis[Xw]||(globalThis[Xw]=uX().then(t=>globalThis[Jw]=t).catch(()=>globalThis[Jw]=!1)),globalThis[nI]||(globalThis[nI]=DP().then(t=>globalThis[tI]=t).catch(()=>globalThis[tI]=!1)),globalThis[eI]||(globalThis[eI]=NY().then(t=>globalThis[Zw]=t).catch(()=>globalThis[Zw]=!1));const sI=(t,e)=>{const n=e?[e]:bN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ra(){}class VP{constructor(e,n=pX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class mX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(Dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let UP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new VP(Zone.current)),this.insideAngular=n.run(()=>new VP(Zone.current,gX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(V(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Cs(t){return bs().ngZone.run(()=>t())}function _X(t){return bs(),function vX(t){return function(n){return(n=n.lift(new mX(t.ngZone))).pipe(Ol(t.outsideAngular),Pl(t.insideAngular))}}(bs())(t)}const wX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Cs(()=>t.apply(void 0,r))},Ss=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)))),r[s]=wX(r[s],n));const i=function yX(t){return bs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=bs();return i.pipe(Ol(s.outsideAngular),Pl(s.insideAngular))}return Cs(()=>i)}return i instanceof Le?i.pipe(_X):i instanceof Promise?Cs(()=>new Promise((s,o)=>i.then(a=>Cs(()=>s(a)),a=>Cs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Cs(()=>i)};class ia{constructor(e){return e}}class BP{constructor(){return bN()}}const oI=new U("angularfire2._apps"),EX={provide:ia,useFactory:function IX(t){return t&&1===t.length?t[0]:new ia(TN())},deps:[[new Wt,oI]]},DX={provide:BP,deps:[[new Wt,oI]]};function TX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ia(r)}}let bX=(()=>{class t{constructor(n){We("angularfire",Yw.full,"core"),We("angularfire",Yw.full,"app"),We("angular",yA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(V(zd))},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({providers:[EX,DX]}),t})();function CX(t,...e){return{ngModule:bX,providers:[{provide:oI,useFactory:TX(t),multi:!0,deps:[Me,Hn,UP,...e]}]}}const SX=Ss(DN,!0);const AX=function $P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jP=new yr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kh=new Zo("@firebase/auth");function Qh(t,...e){Kh.logLevel<=ce.ERROR&&Kh.error(`Auth (${ac}): ${t}`,...e)}function ln(t,...e){throw aI(t,...e)}function wr(t,...e){return aI(t,...e)}function aI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jP.create(t,...e)}function C(t,e,...n){if(!t)throw aI(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function xi(t,e){t||Ir(e)}function GP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=function z8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}()||function W8(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function RX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uI(){return"http:"===GP()||"https:"===GP()}()||H_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class zP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},NX=new hc(3e4,6e4);function Be(t,e,n,r){return lI.apply(this,arguments)}function lI(){return(lI=y(function*(t,e,n,r,i={}){return qP(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=gN(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),zP.fetch()(WP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function qP(t,e,n){return dI.apply(this,arguments)}function dI(){return(dI=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kX),e);try{const i=new PX(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw fc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw fc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw fc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function HP(t,e,n){const r=Object.assign(Object.assign({},AX()),{[e]:n});return new yr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);ln(t,l)}}catch(i){if(i instanceof Xn)throw i;ln(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function WP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function cI(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class PX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),NX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wr(t,e,r);return i.customData._tokenResponse=n,i}function fI(){return(fI=y(function*(t,e){return Be(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gI(){return(gI=y(function*(t,e){return Be(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mI(){return(mI=y(function*(t,e=!1){const n=On(t),r=yield n.getIdToken(e),i=Yh(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:pc(yI(i.auth_time)),issuedAtTime:pc(yI(i.iat)),expirationTime:pc(yI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function yI(t){return 1e3*Number(t)}function Yh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Oh(n);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ti(t,e){return _I.apply(this,arguments)}function _I(){return(_I=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Xn&&function BX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class $X{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class KP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gc(t){return vI.apply(this,arguments)}function vI(){return vI=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ti(t,function LX(t,e){return gI.apply(this,arguments)}(n,{idToken:r}));C(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function GX(t){return t.map(e=>{var{providerId:n}=e,r=Zp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function HX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new KP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),vI.apply(this,arguments)}function wI(){return(wI=y(function*(t){const e=On(t);yield gc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function II(){return(II=y(function*(t,e){const n=yield qP(t,{},y(function*(){const r=gN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(typeof e.idToken<"u","internal-error"),C(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function UX(t){const e=Yh(t);return C(e,"internal-error"),C(typeof e.exp<"u","internal-error"),C(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function zX(t,e){return II.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mc;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function Ri(t,e){C("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new KP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield ti(n,n.stsTokenManager.getToken(n.auth,e));return C(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function VX(t){return mI.apply(this,arguments)}(this,e)}reload(){return function jX(t){return wI.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield gc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield ti(e,function OX(t,e){return fI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:R,isAnonymous:L,providerData:j,stsTokenManager:vt}=n;C(_&&vt,e,"internal-error");const hi=mc.fromJSON(this.name,vt);C("string"==typeof _,e,"internal-error"),Ri(d,e.name),Ri(h,e.name),C("boolean"==typeof R,e,"internal-error"),C("boolean"==typeof L,e,"internal-error"),Ri(f,e.name),Ri(p,e.name),Ri(g,e.name),Ri(m,e.name),Ri(w,e.name),Ri(E,e.name);const Wa=new As({uid:_,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:hi,createdAt:w,lastLoginAt:E});return j&&Array.isArray(j)&&(Wa.providerData=j.map(rae=>Object.assign({},rae))),m&&(Wa._redirectEventId=m),Wa}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new mc;i.updateFromServerResponse(n);const s=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gc(s),s})()}}const QP=new Map;function ni(t){xi(t instanceof Function,"Expected a class definition");let e=QP.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QP.set(t,e),e)}const YP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}class oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?As._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new oa(ni(YP),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ni(YP);const o=Jh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=As._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new oa(s,e,r)):new oa(s,e,r)})()}}function JP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function eO(t=En()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function XP(t=En()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function nO(t=En()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function rO(t=En()){return/webos/i.test(t)}(e))return"Webos";if(function EI(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function ZP(t=En()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function tO(t=En()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iO(t,e=[]){let n;switch(t){case"Browser":n=JP(En());break;case"Worker":n=`${JP(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${r}`}function sO(t,e){return TI.apply(this,arguments)}function TI(){return(TI=y(function*(t,e){return Be(t,"GET","/v2/recaptchaConfig",function Oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function aO(t){return void 0!==t&&void 0!==t.enterprise}class uO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}const XX="NO_RECAPTCHA";class lO{constructor(e){this.type="recaptcha-enterprise",this.auth=ft(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){sO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new uO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;aO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(XX)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&aO(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function bI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function QX(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class ZX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class eZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dO(this),this.idTokenSubscription=new dO(this),this.beforeStateQueue=new ZX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield oa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return C(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield gc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function MX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?On(e):null;return r&&C(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&C(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(ni(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield sO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new uO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new lO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&ni(e)||n._popupRedirectResolver;C(r,n,"argument-error"),n.redirectPersistenceManager=yield oa.create(n,[ni(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function xX(t,...e){Kh.logLevel<=ce.WARN&&Kh.warn(`Auth (${ac}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ft(t){return On(t)}class dO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function J8(t,e){const n=new X8(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function cO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new hc(3e4,6e4),new hc(2e3,1e4),new hc(3e4,6e4),new hc(5e3,15e3),encodeURIComponent("fac");var BO="@firebase/auth";class qee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Fh(),function Kee(t){Jt(new Lt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iO(t)},c=new eZ(r,i,s,u);return function nZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new Lt("auth-internal",e=>{const n=ft(e.getProvider("auth").getImmediate());return new qee(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(BO,"0.23.2",function Wee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(BO,"0.23.2","esm2017")}("Browser");class GO{constructor(){return sI("auth")}}const fD=new Map,zO={activated:!1,tokenObservers:[]},tte={initialized:!1,enabled:!1};function $e(t){return fD.get(t)||Object.assign({},zO)}function hf(){return tte}const pD="https://content-firebaseappcheck.googleapis.com/v1",ste="exchangeDebugToken",qO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ate{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Lh,yield function ute(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Lh,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ct=new yr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gD(t){if(!$e(t).activated)throw Ct.create("use-before-activation",{appName:t.name})}function gf(t,e){return yD.apply(this,arguments)}function yD(){return yD=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ct.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ct.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ct.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),yD.apply(this,arguments)}function WO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${pD}/projects/${n}/apps/${r}:${ste}?key=${i}`,body:{debug_token:e}}}const hte="firebase-app-check-database",fte=1,Ic="firebase-app-check-store";let mf=null;function _D(){return _D=y(function*(t,e){const r=(yield function QO(){return mf||(mf=new Promise((t,e)=>{try{const n=indexedDB.open(hte,fte);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ct.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ic,{keyPath:"compositeKey"})}}catch(n){e(Ct.create("storage-open",{originalErrorMessage:n?.message}))}}),mf)}()).transaction(Ic,"readwrite"),s=r.objectStore(Ic).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ct.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),_D.apply(this,arguments)}const Ec=new Zo("@firebase/app-check");function ID(t,e){return ys()?function gte(t,e){return function YO(t,e){return _D.apply(this,arguments)}(function XO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ec.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function DD(){return hf().enabled}function TD(){return bD.apply(this,arguments)}function bD(){return bD=y(function*(){const t=hf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bD.apply(this,arguments)}const Ite={error:"UNKNOWN_ERROR"};function Ete(t){return j_.encodeString(JSON.stringify(t),!1)}function yf(t){return CD.apply(this,arguments)}function CD(){return CD=y(function*(t,e=!1){const n=t.app;gD(n);const r=$e(n);let s,i=r.token;if(i&&!ua(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ua(u)?i=u:yield ID(n,void 0))}if(!e&&i&&ua(i))return{token:i.token};let a,o=!1;if(DD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gf(WO(n,yield TD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ID(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield $e(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ec.warn(u.message):Ec.error(u),s=u}return i?s?a=ua(i)?{token:i.token,internalError:s}:nF(s):(a={token:i.token},r.token=i,yield ID(n,i)):a=nF(s),o&&function tF(t,e){const n=$e(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),CD.apply(this,arguments)}function SD(){return SD=y(function*(t){const e=t.app;gD(e);const{provider:n}=$e(e);if(DD()){const r=yield TD(),{token:i}=yield gf(WO(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),SD.apply(this,arguments)}function xD(t,e){const n=$e(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eF(t){const{app:e}=t,n=$e(e);let r=n.tokenRefresher;r||(r=function Dte(t){const{app:e}=t;return new ate(y(function*(){let r;if(r=$e(e).token?yield yf(t,!0):yield yf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$e(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},qO.RETRIAL_MIN_WAIT,qO.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ua(t){return t.expireTimeMillis-Date.now()>0}function nF(t){return{token:Ete(Ite),error:t}}class Tte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$e(this.app);for(const n of e)xD(this.app,n.next);return Promise.resolve()}}const lF="app-check-internal";!function Vte(){Jt(new Lt("app-check",t=>function bte(t,e){return new Tte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(lF).initialize()})),Jt(new Lt(lF,t=>function Cte(t){return{getToken:e=>yf(t,e),getLimitedUseToken:()=>function ZO(t){return SD.apply(this,arguments)}(t),addTokenListener:e=>function AD(t,e,n,r){const{app:i}=t,s=$e(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ua(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),eF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>eF(t))}(t,"INTERNAL",e),removeTokenListener:e=>xD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();class hF{constructor(){return sI("app-check")}}typeof window<"u"&&window;var M,Hte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={},PD=PD||{},Q=Hte||self;function vf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Dc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var OD="closure_uid_"+(1e9*Math.random()>>>0),zte=0;function qte(t,e,n){return t.call.apply(t.bind,arguments)}function Wte(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qte:Wte).apply(null,arguments)}function wf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}ki.prototype.s=!1,ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gte(t){Object.prototype.hasOwnProperty.call(t,OD)&&t[OD]||(t[OD]=++zte)}(this)},ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function FD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var Qte=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Tc(t){return/^[\s\xa0]*$/.test(t)}function If(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Er(t){return-1!=If().indexOf(t)}function LD(t){return LD[" "](t),t}LD[" "]=function(){};var UD,Jte=Er("Opera"),ca=Er("Trident")||Er("MSIE"),gF=Er("Edge"),VD=gF||ca,mF=Er("Gecko")&&!(-1!=If().toLowerCase().indexOf("webkit")&&!Er("Edge"))&&!(Er("Trident")||Er("MSIE"))&&!Er("Edge"),Xte=-1!=If().toLowerCase().indexOf("webkit")&&!Er("Edge");function yF(){var t=Q.document;return t?t.documentMode:void 0}e:{var BD="",$D=function(){var t=If();return mF?/rv:([^\);]+)(\)|;)/.exec(t):gF?/Edge\/([\d\.]+)/.exec(t):ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xte?/WebKit\/(\S+)/.exec(t):Jte?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($D&&(BD=$D?$D[1]:""),ca){var jD=yF();if(null!=jD&&jD>parseFloat(BD)){UD=String(jD);break e}}UD=BD}var Zte=Q.document&&ca&&(yF()||parseInt(UD,10))||void 0;function bc(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mF){e:{try{LD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ene[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bc.$.h.call(this)}}pt(bc,Ut);var ene={2:"touch",3:"pen",4:"mouse"};bc.prototype.h=function(){bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),tne=0;function nne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++tne,this.fa=this.ia=!1}function Ef(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function GD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vF(t){const e={};for(const n in t)e[n]=t[n];return e}const wF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IF(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<wF.length;s++)n=wF[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Df(t){this.src=t,this.g={},this.h=0}function zD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=fF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ef(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Df.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=qD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new nne(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var WD="closure_lm_"+(1e6*Math.random()|0),KD={};function EF(t,e,n,r,i){if(r&&r.once)return TF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)EF(t,e[s],n,r,i);return null}return n=XD(n),t&&t[Cc]?t.O(e,n,Dc(r)?!!r.capture:!!r,i):DF(t,e,n,!1,r,i)}function DF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Dc(i)?!!i.capture:!!i,a=YD(t);if(a||(t[WD]=a=new Df(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ine(){const e=sne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qte||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function TF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TF(t,e[s],n,r,i);return null}return n=XD(n),t&&t[Cc]?t.P(e,n,Dc(r)?!!r.capture:!!r,i):DF(t,e,n,!0,r,i)}function bF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bF(t,e[s],n,r,i);else r=Dc(r)?!!r.capture:!!r,n=XD(n),t&&t[Cc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qD(s=t.g[e],n,r,i))&&(Ef(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=YD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qD(e,n,r,i)),(n=-1<t?e[t]:null)&&QD(n))}function QD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Cc])zD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=YD(e))?(zD(n,t),0==n.h&&(n.src=null,e[WD]=null)):Ef(t)}}}function CF(t){return t in KD?KD[t]:KD[t]="on"+t}function sne(t,e){if(t.fa)t=!0;else{e=new bc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&QD(t),t=n.call(r,e)}return t}function YD(t){return(t=t[WD])instanceof Df?t:null}var JD="__closure_events_fn_"+(1e9*Math.random()>>>0);function XD(t){return"function"==typeof t?t:(t[JD]||(t[JD]=function(e){return t.handleEvent(e)}),t[JD])}function gt(){ki.call(this),this.i=new Df(this),this.S=this,this.J=null}function St(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;IF(e=new Ut(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tf(o,r,!0,e)&&i}if(i=Tf(o=e.g=t,r,!0,e)&&i,i=Tf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Tf(o=e.g=n[s],r,!1,e)&&i}function Tf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&zD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}pt(gt,ki),gt.prototype[Cc]=!0,gt.prototype.removeEventListener=function(t,e,n,r){bF(this,t,e,n,r)},gt.prototype.N=function(){if(gt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ef(n[r]);delete t.g[e],t.h--}}this.J=null},gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ZD=Q.JSON.stringify;function ane(){var t=eT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var SF=new class one{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cne,t=>t.reset());class cne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function dne(t){Q.setTimeout(()=>{throw t},0)}let Sc,Ac=!1,eT=new class une{constructor(){this.h=this.g=null}add(e,n){const r=SF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},AF=()=>{const t=Q.Promise.resolve(void 0);Sc=()=>{t.then(hne)}};var hne=()=>{for(var t;t=ane();){try{t.h.call(t.g)}catch(n){dne(n)}var e=SF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ac=!1};function bf(t,e){gt.call(this),this.h=t||1,this.g=e||Q,this.j=Vt(this.qb,this),this.l=Date.now()}function tT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function nT(t,e,n){if("function"==typeof t)n&&(t=Vt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function xF(t){t.g=nT(()=>{t.g=null,t.i&&(t.i=!1,xF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}pt(bf,gt),(M=bf.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(tT(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){bf.$.N.call(this),tT(this),delete this.g};class fne extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xF(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xc(t){ki.call(this),this.h=t,this.g={}}pt(xc,ki);var RF=[];function MF(t,e,n,r){Array.isArray(n)||(n&&(RF[0]=n.toString()),n=RF);for(var i=0;i<n.length;i++){var s=EF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function kF(t){GD(t.g,function(e,n){this.g.hasOwnProperty(n)&&QD(e)},t),t.g={}}function Cf(){this.g=!0}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ZD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}xc.prototype.N=function(){xc.$.N.call(this),kF(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cf.prototype.Ea=function(){this.g=!1},Cf.prototype.info=function(){};var ks={},NF=null;function Sf(){return NF=NF||new gt}function PF(t){Ut.call(this,ks.Ta,t)}function Rc(t){const e=Sf();St(e,new PF(e))}function OF(t,e){Ut.call(this,ks.STAT_EVENT,t),this.stat=e}function Zt(t){const e=Sf();St(e,new OF(e,t))}function FF(t,e){Ut.call(this,ks.Ua,t),this.size=e}function Mc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}ks.Ta="serverreachability",pt(PF,Ut),ks.STAT_EVENT="statevent",pt(OF,Ut),ks.Ua="timingevent",pt(FF,Ut);var Af={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rT(){}function UF(){}rT.prototype.h=null;var oT,kc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iT(){Ut.call(this,"d")}function sT(){Ut.call(this,"c")}function xf(){}function Nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xc(this),this.P=_ne,this.V=new bf(t=VD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new BF}function BF(){this.i=null,this.g="",this.h=!1}pt(iT,Ut),pt(sT,Ut),pt(xf,rT),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},oT=new xf;var _ne=45e3,aT={},Rf={};function uT(t,e,n){t.L=1,t.v=Pf(ii(e)),t.s=n,t.S=!0,$F(t,null)}function $F(t,e){t.G=Date.now(),Pc(t),t.A=ii(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),JF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new BF,t.g=IL(t.l,n?e:null,!t.s),0<t.O&&(t.M=new fne(Vt(t.Pa,t,t.g),t.O)),MF(t.U,t.g,"readystatechange",t.nb),e=t.I?vF(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Rc(),function pne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function jF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function HF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=vne(t,n),i==Rf){4==e&&(t.o=4,Zt(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}if(i==aT){t.o=4,Zt(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}la(t.j,t.m,i,null),cT(t,i)}jF(t)&&i!=Rf&&i!=aT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mT(e),e.M=!0,Zt(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),Ns(t),Oc(t))}function vne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Rf:(n=Number(e.substring(n,r)),isNaN(n)?aT:(r+=1)+n>e.length?Rf:(e=e.slice(r,r+n),t.C=r+n,e))}function Pc(t){t.Y=Date.now()+t.P,GF(t,t.P)}function GF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Mc(Vt(t.lb,t),e)}function Mf(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function Oc(t){0==t.l.H||t.J||yL(t.l,t)}function Ns(t){Mf(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,tT(t.V),kF(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||lT(n.i,t)))if(!t.K&&lT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Bf(n),Vf(n)}gT(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Mc(Vt(n.ib,n),6e3));if(1>=eL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Os(n,11)}else if((t.K||n.g==t)&&Bf(n),!Tc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Se(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=wL(r,r.J?r.pa:null,r.Y),o.K){tL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Mf(a),Pc(a)),r.g=o}else gL(r);0<n.j.length&&Uf(n)}else"stop"!=c[0]&&"close"!=c[0]||Os(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Os(n,7):pT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Rc()}catch{}}function zF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Ine(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function wne(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(vf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=Nc.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==Dr(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=Dr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||VD||this.g&&(this.h.h||this.g.ja()||cL(this.g)))){this.J||4!=l||7==e||Rc(),Mf(this);var n=this.g.da();this.ca=n;t:if(jF(this)){var r=cL(this.g);t="";var i=r.length,s=4==Dr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Oc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function gne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Zt(12),Ns(this),Oc(this);break e}la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cT(this,n)}this.S?(HF(this,l,o),VD&&this.i&&3==l&&(MF(this.U,this.V,"tick",this.mb),this.V.start())):(la(this.j,this.m,o,null),cT(this,o)),4==l&&Ns(this),this.i&&!this.J&&(4==l?yL(this.l,this):(this.i=!1,Pc(this)))}else(function Une(t){const e={};t=(t.g&&2<=Dr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Tc(t[r]))continue;var n=lne(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function rne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),Ns(this),Oc(this)}}}catch{}},M.mb=function(){if(this.g){var t=Dr(this.g),e=this.g.ja();this.C<e.length&&(Mf(this),HF(this,t,e),this.i&&4!=t&&Pc(this))}},M.cancel=function(){this.J=!0,Ns(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function mne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Rc(),Zt(17)),Ns(this),this.o=2,Oc(this)):GF(this,this.Y-t)};var qF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ps){this.h=t.h,kf(this,t.j),this.s=t.s,this.g=t.g,Nf(this,t.m),this.l=t.l;var e=t.i,n=new Vc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WF(this,n),this.o=t.o}else t&&(e=String(t).match(qF))?(this.h=!1,kf(this,e[1]||"",!0),this.s=Fc(e[2]||""),this.g=Fc(e[3]||"",!0),Nf(this,e[4]),this.l=Fc(e[5]||"",!0),WF(this,e[6]||"",!0),this.o=Fc(e[7]||"")):(this.h=!1,this.i=new Vc(null,this.h))}function ii(t){return new Ps(t)}function kf(t,e,n){t.j=n?Fc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WF(t,e,n){e instanceof Vc?(t.i=e,function Ane(t,e){e&&!t.j&&(Ni(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(QF(this,r),JF(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Lc(e,Cne)),t.i=new Vc(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Pf(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Dne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dne(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lc(e,KF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Lc(e,KF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lc(n,"/"==n.charAt(0)?bne:Tne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lc(n,Sne)),t.join("")};var KF=/[#\/\?@]/g,Tne=/[#\?:]/g,bne=/[#\?]/g,Cne=/[#\?@]/g,Sne=/#/g;function Vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ni(t){t.g||(t.g=new Map,t.h=0,t.i&&function Ene(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function QF(t,e){Ni(t),e=da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function YF(t,e){return Ni(t),e=da(t,e),t.g.has(e)}function JF(t,e,n){QF(t,e),0<n.length&&(t.i=null,t.g.set(da(t,e),FD(n)),t.h+=n.length)}function da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function XF(t){this.l=t||Rne,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=Vc.prototype).add=function(t,e){Ni(this),this.i=null,t=da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Ni(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Ni(this);let e=[];if("string"==typeof t)YF(this,t)&&(e=e.concat(this.g.get(da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Ni(this),this.i=null,YF(this,t=da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Rne=10;function ZF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function eL(t){return t.h?1:t.g?t.g.size:0}function lT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dT(t,e){t.g?t.g.add(e):t.h=e}function tL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function nL(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return FD(t.i)}XF.prototype.cancel=function(){if(this.i=nL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Mne=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function kne(){this.g=new Mne}function Nne(t,e,n){const r=n||"";try{zF(t,function(i,s){let o=i;Dc(i)&&(o=ZD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Of(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Uc(t){this.l=t.fc||null,this.j=t.ob||!1}function Ff(t,e){gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt(Uc,rT),Uc.prototype.g=function(){return new Ff(this.l,this.j)},Uc.prototype.i=function(t){return function(){return t}}({}),pt(Ff,gt);var hT=0;function rL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$c(t)}function $c(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=Ff.prototype).open=function(t,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$c(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bc(this)),this.readyState=hT},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$c(this)),this.g&&(this.readyState=3,$c(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bc(this):$c(this),3==this.readyState&&rL(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,Bc(this))},M.Ya=function(t){this.g&&(this.response=t,Bc(this))},M.ka=function(){this.g&&Bc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ff.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var One=Q.JSON.parse;function je(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iL,this.L=this.M=!1}pt(je,gt);var iL="",Fne=/^https?$/i,Lne=["POST","PUT"];function sL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oL(t),Lf(t)}function oL(t){t.F||(t.F=!0,St(t,"complete"),St(t,"error"))}function aL(t){if(t.h&&typeof PD<"u"&&(!t.C[1]||4!=Dr(t)||2!=t.da()))if(t.v&&4==Dr(t))nT(t.La,0,t);else if(St(t,"readystatechange"),4==Dr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(qF)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!Fne.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var s=2<Dr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",oL(t)}}finally{Lf(t)}}}function Lf(t,e){if(t.g){uL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch{}}}function uL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Dr(t){return t.g?t.g.readyState:0}function cL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lL(t){let e="";return GD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function fT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Se(t,e,n))}function jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dL(t){this.Ga=0,this.j=[],this.l=new Cf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jc("baseRetryDelayMs",5e3,t),this.hb=jc("retryDelaySeedMs",1e4,t),this.eb=jc("forwardChannelMaxRetries",2,t),this.xa=jc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XF(t&&t.concurrentRequestLimit),this.Ja=new kne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pT(t){if(hL(t),3==t.H){var e=t.W++,n=ii(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),Hc(t,n),(e=new Nc(t,t.l,e)).L=2,e.v=Pf(ii(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=IL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pc(e)}vL(t)}function Vf(t){t.g&&(mT(t),t.g.cancel(),t.g=null)}function hL(t){Vf(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Bf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Uf(t){if(!ZF(t.i)&&!t.m){t.m=!0;var e=t.Na;Sc||AF(),Ac||(Sc(),Ac=!0),eT.add(e,t),t.C=0}}function fL(t,e){var n;n=e?e.m:t.W++;const r=ii(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),Hc(t,r),t.o&&t.s&&fT(r,t.o,t.s),n=new Nc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pL(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dT(t.i,n),uT(n,r,e)}function Hc(t,e){t.na&&GD(t.na,function(n,r){Se(e,r,n)}),t.h&&zF({},function(n,r){Se(e,r,n)})}function pL(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Nne(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sc||AF(),Ac||(Sc(),Ac=!0),eT.add(e,t),t.A=0}}function gT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Mc(Vt(t.Ma,t),_L(t,t.A)),t.A++,0))}function mT(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function mL(t){t.g=new Nc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ii(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),Hc(t,e),t.o&&t.s&&fT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pf(ii(e)),n.s=null,n.S=!0,$F(n,t)}function Bf(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function yL(t,e){var n=null;if(t.g==e){Bf(t),mT(t),t.g=null;var r=2}else{if(!lT(t.i,e))return;n=e.F,tL(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;St(r=Sf(),new FF(r,n)),Uf(t)}else gL(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Bne(t,e){return!(eL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Mc(Vt(t.Na,t,e),_L(t,t.C)),t.C++,0)))}(t,e)||2==r&&gT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Os(t,5);break;case 4:Os(t,10);break;case 3:Os(t,6);break;default:Os(t,2)}}function _L(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Os(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new Ps("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||kf(n,"https"),Pf(n)),function Pne(t,e){const n=new Cf;if(Q.Image){const r=new Image;r.onload=wf(Of,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wf(Of,n,r,"TestLoadImage: error",!1,e),r.onabort=wf(Of,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wf(Of,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),vL(t),hL(t)}function vL(t){if(t.H=0,t.ma=[],t.h){const e=nL(t.i);(0!=e.length||0!=t.j.length)&&(pF(t.ma,e),pF(t.ma,t.j),t.i.i.length=0,FD(t.j),t.j.length=0),t.h.ya()}}function wL(t,e,n){var r=n instanceof Ps?ii(n):new Ps(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Nf(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ps(null);r&&kf(s,r),e&&(s.g=e),i&&Nf(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Se(r,n,e),Se(r,"VER",t.ra),Hc(t,r),r}function IL(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new je(n&&t.Ha&&!t.va?new Uc({ob:!0}):t.va)).Oa(t.J),e}function EL(){}function $f(){if(ca&&!(10<=Number(Zte)))throw Error("Environmental error: no available transport.")}function Dn(t,e){gt.call(this),this.g=new dL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ha(this)}function DL(t){iT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function TL(){sT.call(this),this.status=1}function ha(t){this.g=t}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=je.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=function VF(t){return t.h||(t.h=t.i())}(this.u?this.u:oT),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void sL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=fF(Lne,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uL(this),0<this.B&&((this.L=function Vne(t){return ca&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=nT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sL(this,s)}},M.ua=function(){typeof PD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),Lf(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),je.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?aL(this):this.kb())},M.kb=function(){aL(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),One(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=dL.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=vF(s),IF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pL(this,i,e),Se(n=ii(this.I),"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),Hc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(lL(s)))+"&"+e:this.o&&fT(n,this.o,s)),dT(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,uT(i,n,null)):uT(i,n,e),this.H=2}}else 3==this.H&&(t?fL(this,t):0==this.j.length||ZF(this.i)||fL(this))},M.Ma=function(){if(this.u=null,mL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Mc(Vt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),Vf(this),mL(this))},M.ib=function(){null!=this.v&&(this.v=null,Vf(this),gT(this),Zt(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=EL.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},$f.prototype.g=function(t,e){return new Dn(t,e)},pt(Dn,gt),Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wL(t,null,t.Y),Uf(t)},Dn.prototype.close=function(){pT(this.g)},Dn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ZD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Uf(e)},Dn.prototype.N=function(){this.g.h=null,delete this.j,pT(this.g),delete this.g,Dn.$.N.call(this)},pt(DL,iT),pt(TL,sT),pt(ha,EL),ha.prototype.Ba=function(){St(this.g,"a")},ha.prototype.Aa=function(t){St(this.g,new DL(t))},ha.prototype.za=function(t){St(this.g,new TL)},ha.prototype.ya=function(){St(this.g,"b")},pt(er,function $ne(){this.blockSize=-1}),er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)yT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){yT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){yT(this,r),i=0;break}}this.h=i,this.i+=e},er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var jne={};function _T(t){return-128<=t&&128>t?function Yte(t,e){var n=jne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new _e([0|e],0>e?-1:0)}):new _e([0|t],0>t?-1:0)}function Tr(t){if(isNaN(t)||!isFinite(t))return fa;if(0>t)return At(Tr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=vT;return new _e(e,0)}var vT=4294967296,fa=_T(0),wT=_T(1),CL=_T(16777216);function si(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ln(t){return-1==t.h}function At(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(wT)}function jf(t,e){return t.add(At(e))}function Hf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gc(t,e){this.g=t,this.h=e}function Gf(t,e){if(si(e))throw Error("division by zero");if(si(t))return new Gc(fa,fa);if(Ln(t))return e=Gf(At(t),e),new Gc(At(e.g),At(e.h));if(Ln(e))return e=Gf(t,At(e)),new Gc(At(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wT,r=e;0>=r.X(t);)n=SL(n),r=SL(r);var i=pa(n,1),s=pa(r,1);for(r=pa(r,2),n=pa(n,2);!si(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pa(r,1),n=pa(n,1)}return e=jf(t,i.R(e)),new Gc(i,e)}for(i=fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Tr(n)).R(e);Ln(o)||0<o.X(t);)o=(s=Tr(n-=r)).R(e);si(s)&&(s=wT),i=i.add(s),t=jf(t,o)}return new Gc(i,t)}function SL(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function pa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new _e(i,t.h)}(M=_e.prototype).ea=function(){if(Ln(this))return-At(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:vT+r)*e,e*=vT}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(si(this))return"0";if(Ln(this))return"-"+At(this).toString(t);for(var e=Tr(Math.pow(t,6)),n=this,r="";;){var i=Gf(n,e).g,s=((0<(n=jf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(si(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Ln(t=jf(this,t))?-1:si(t)?0:1},M.abs=function(){return Ln(this)?At(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new _e(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(si(this)||si(t))return fa;if(Ln(this))return Ln(t)?At(this).R(At(t)):At(At(this).R(t));if(Ln(t))return At(this.R(At(t)));if(0>this.X(CL)&&0>t.X(CL))return Tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Hf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Hf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)},M.gb=function(t){return Gf(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)},$f.prototype.createWebChannel=$f.prototype.g,Dn.prototype.send=Dn.prototype.u,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,Af.NO_ERROR=0,Af.TIMEOUT=8,Af.HTTP_ERROR=6,LF.COMPLETE="complete",UF.EventType=kc,kc.OPEN="a",kc.CLOSE="b",kc.ERROR="c",kc.MESSAGE="d",gt.prototype.listen=gt.prototype.O,je.prototype.listenOnce=je.prototype.P,je.prototype.getLastError=je.prototype.Sa,je.prototype.getLastErrorCode=je.prototype.Ia,je.prototype.getStatus=je.prototype.da,je.prototype.getResponseJson=je.prototype.Wa,je.prototype.getResponseText=je.prototype.ja,je.prototype.send=je.prototype.ha,je.prototype.setWithCredentials=je.prototype.Oa,er.prototype.digest=er.prototype.l,er.prototype.reset=er.prototype.reset,er.prototype.update=er.prototype.j,_e.prototype.add=_e.prototype.add,_e.prototype.multiply=_e.prototype.R,_e.prototype.modulo=_e.prototype.gb,_e.prototype.compare=_e.prototype.X,_e.prototype.toNumber=_e.prototype.ea,_e.prototype.toString=_e.prototype.toString,_e.prototype.getBits=_e.prototype.D,_e.fromNumber=Tr,_e.fromString=function bL(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return At(bL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tr(Math.pow(e,8)),r=fa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Tr(Math.pow(e,s)),r=r.R(s).add(Tr(o))):r=(r=r.R(n)).add(Tr(o))}return r};var Hne=Zn.createWebChannelTransport=function(){return new $f},Gne=Zn.getStatEventTarget=function(){return Sf()},IT=Zn.ErrorCode=Af,zne=Zn.EventType=LF,qne=Zn.Event=ks,AL=Zn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wne=Zn.FetchXmlHttpFactory=Uc,zf=Zn.WebChannel=UF,Kne=Zn.XhrIo=je,Qne=Zn.Md5=er,ga=Zn.Integer=_e;const xL="@firebase/firestore";class mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");let ma="9.23.0";const Pi=new Zo("@firebase/firestore");function ET(){return Pi.logLevel}function b(t,...e){if(Pi.logLevel<=ce.DEBUG){const n=e.map(DT);Pi.debug(`Firestore (${ma}): ${t}`,...n)}}function Ke(t,...e){if(Pi.logLevel<=ce.ERROR){const n=e.map(DT);Pi.error(`Firestore (${ma}): ${t}`,...n)}}function tr(t,...e){if(Pi.logLevel<=ce.WARN){const n=e.map(DT);Pi.warn(`Firestore (${ma}): ${t}`,...n)}}function DT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+t;throw Ke(e),new Error(e)}function O(t,e){t||P()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ut{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class RL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class Jne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xne{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ut,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ut)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new RL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new mt(e)}}class Zne{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ere{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Zne(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ML{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tre{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new ML(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class kL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function ya(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Fe(0,0))}static max(){return new F(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===zc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends zc{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const rre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends zc{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return rre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(he.fromString(e))}static fromName(e){return new S(he.fromString(e).popFirst(5))}static empty(){return new S(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new he(e.slice()))}}function OL(t){return new Tn(t.readTime,t.key,-1)}class Tn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tn(F.min(),S.empty(),-1)}static max(){return new Tn(F.max(),S.empty(),-1)}}function bT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const FL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ore{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oi(t){return CT.apply(this,arguments)}function CT(){return CT=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==FL)throw t;b("LocalStore","Unexpectedly lost primary lease")}),CT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fi(t){return"IndexedDbTransactionError"===t.name}let bn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Kc(t){return null==t}function Qc(t){return 0===t&&1/t==-1/0}function zL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Te{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yf(this.root,e,this.comparator,!0)}}class Yf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1,xt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ae{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WL(this.data.getIterator())}getIteratorFrom(e){return new WL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ae(this.comparator);return n.data=e,n}}class WL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new dn([])}unionWith(e){let n=new Ae(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class KL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KL("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const xre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(O(!!t),"string"==typeof t){let e=0;const n=xre.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oi(t){return"string"==typeof t?ct.fromBase64String(t):ct.fromUint8Array(t)}function Jf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xf(t){const e=t.mapValue.fields.__previous_value__;return Jf(e)?Xf(e):e}function Yc(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}class Rre{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Vs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vs&&e.projectId===this.projectId&&e.database===this.database}}const Ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jf(t)?4:XL(t)?9007199254740991:10:P()}function Cr(t,e){if(t===e)return!0;const n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),o=Vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,oi(t.bytesValue).isEqual(oi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?Qc(s)===Qc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zL(s)!==zL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Cr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Jc(t,e){return void 0!==(t.values||[]).find(n=>Cr(n,e))}function $i(t,e){if(t===e)return 0;const n=Bi(t),r=Bi(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return QL(t.timestampValue,e.timestampValue);case 4:return QL(Yc(t),Yc(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=oi(i),a=oi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(He(i.latitude),He(s.latitude));return 0!==o?o:K(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=$i(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ui.mapValue&&s===Ui.mapValue)return 0;if(i===Ui.mapValue)return 1;if(s===Ui.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=$i(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function QL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Vi(t),r=Vi(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function va(t){return xT(t)}function xT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oi(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=xT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${xT(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function RT(t){return!!t&&"integerValue"in t}function Xc(t){return!!t&&"arrayValue"in t}function YL(t){return!!t&&"nullValue"in t}function JL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function Zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(Zc(this.value))}}function t2(t){const e=[];return Li(t.fields,(n,r)=>{const i=new Qe([n]);if(tp(r)){const s=t2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,F.min(),F.min(),F.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,F.min(),F.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,F.min(),F.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ji{constructor(e,n){this.position=e,this.inclusive=n}}function n2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):$i(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function r2(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}class wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class i2{}class ae extends i2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Pre(e,n,r):"array-contains"===n?new Lre(e,r):"in"===n?new l2(e,r):"not-in"===n?new Vre(e,r):"array-contains-any"===n?new Ure(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Ore(e,r):new Fre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($i(n,this.value)):null!==n&&Bi(this.value)===Bi(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends i2{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ve(e,n)}matches(e){return Ia(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ia(t){return"and"===t.op}function kT(t){return function s2(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}(t)&&Ia(t)}function NT(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+va(t.value);if(kT(t))return t.filters.map(e=>NT(e)).join(",");{const e=t.filters.map(n=>NT(n)).join(",");return`${t.op}(${e})`}}function o2(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&Cr(n.value,r.value)):t instanceof ve?function(n,r){return r instanceof ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&o2(s,r.filters[o]),!0)}(t,e):void P();var n,r}function u2(t){return t instanceof ae?function(e){return`${e.field.canonicalString()} ${e.op} ${va(e.value)}`}(t):t instanceof ve?function(e){return e.op.toString()+" {"+e.getFilters().map(u2).join(" ,")+"}"}(t):"Filter"}class Pre extends ae{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ore extends ae{constructor(e,n){super(e,"in",n),this.keys=c2(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fre extends ae{constructor(e,n){super(e,"not-in",n),this.keys=c2(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c2(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class Lre extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xc(n)&&Jc(n.arrayValue,this.value)}}class l2 extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Jc(this.value.arrayValue,n)}}class Vre extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Jc(this.value.arrayValue,n)}}class Ure extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}class Bre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function PT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bre(t,e,n,r,i,s,o)}function Bs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>NT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Kc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.dt=n}return e.dt}function el(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r2(t.startAt,e.startAt)&&r2(t.endAt,e.endAt)}function np(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Ea(t){return new ai(t)}function p2(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function $s(t){const e=A(t);if(null===e.wt){e.wt=[];const n=function ip(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function OT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new wa(n)),e.wt.push(new wa(Qe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wa(Qe.keyField(),s))}}}return e.wt}function en(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=PT(e.path,e.collectionGroup,$s(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of $s(e))n.push(new wa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ji(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ji(e.startAt.position,e.startAt.inclusive):null;e._t=PT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function sp(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tl(t,e){return el(en(t),en(e))&&t.limitType===e.limitType}function g2(t){return`${Bs(en(t))}|lt:${t.limitType}`}function VT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>u2(r)).join(", ")}]`),Kc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),`Target(${n})`}(en(t))}; limitType=${t.limitType})`}function nl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of $s(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=n2(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,$s(n),r)||n.endAt&&!function(i,s,o){const a=n2(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,$s(n),r)));var n,r}function y2(t){return(e,n)=>{let r=!1;for(const i of $s(t)){const s=$re(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function $re(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?$i(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qL(this.inner)}size(){return this.innerSize}}const jre=new Te(S.comparator);function hn(){return jre}const _2=new Te(S.comparator);function rl(...t){let e=_2;for(const n of t)e=e.insert(n.key,n);return e}function v2(t){let e=_2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sr(){return il()}function w2(){return il()}function il(){return new ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hre=new Te(S.comparator),Gre=new Ae(S.comparator);function ee(...t){let e=Gre;for(const n of t)e=e.add(n);return e}const zre=new Ae(K);function I2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function E2(t){return{integerValue:""+t}}function D2(t,e){return function VL(t){return"number"==typeof t&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?E2(e):I2(t,e)}class op{constructor(){this._=void 0}}function qre(t,e,n){return t instanceof Da?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jf(i)&&(i=Xf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof js?b2(t,e):t instanceof Hs?C2(t,e):function(r,i){const s=T2(r,i),o=S2(s)+S2(r.gt);return RT(s)&&RT(r.gt)?E2(o):I2(r.serializer,o)}(t,e)}function Wre(t,e,n){return t instanceof js?b2(t,e):t instanceof Hs?C2(t,e):n}function T2(t,e){return t instanceof Ta?RT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Da extends op{}class js extends op{constructor(e){super(),this.elements=e}}function b2(t,e){const n=A2(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hs extends op{constructor(e){super(),this.elements=e}}function C2(t,e){let n=A2(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class Ta extends op{constructor(e,n){super(),this.serializer=e,this.gt=n}}function S2(t){return He(t.integerValue||t.doubleValue)}function A2(t){return Xc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Qre{constructor(e,n){this.version=e,this.transformResults=n}}class ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ke}static exists(e){return new ke(void 0,e)}static updateTime(e){return new ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class up{}function x2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ca(t.key,ke.none()):new ba(t.key,t.data,ke.none());{const n=t.data,r=Rt.empty();let i=new Ae(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ci(t.key,r,new dn(i.toArray()),ke.none())}}function Yre(t,e,n){t instanceof ba?function(r,i,s){const o=r.value.clone(),a=k2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(r,i,s){if(!ap(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=k2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(M2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ol(t,e,n,r){return t instanceof ba?function(i,s,o,a){if(!ap(i.precondition,s))return o;const u=i.value.clone(),c=N2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(i,s,o,a){if(!ap(i.precondition,s))return o;const u=N2(i.fieldTransforms,a,s),c=s.data;return c.setAll(M2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ap(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Jre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T2(r.transform,i||null);null!=s&&(null===n&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function R2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ya(n,r,(i,s)=>function Kre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof js&&r instanceof js||n instanceof Hs&&r instanceof Hs?ya(n.elements,r.elements,Cr):n instanceof Ta&&r instanceof Ta?Cr(n.gt,r.gt):n instanceof Da&&r instanceof Da);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class ba extends up{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ci extends up{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k2(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wre(o,a,n[i]))}return r}function N2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qre(s,o,e))}return r}class Ca extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BT extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $T{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=x2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>R2(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>R2(n,r))}}class jT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=Hre;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jT(e,n,r,i)}}class HT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zre{constructor(e,n){this.count=e,this.unchangedNames=n}}var nt,fe;function O2(t){if(void 0===t)return Ke("GRPC error has no .code"),I.UNKNOWN;switch(t){case nt.OK:return I.OK;case nt.CANCELLED:return I.CANCELLED;case nt.UNKNOWN:return I.UNKNOWN;case nt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case nt.INTERNAL:return I.INTERNAL;case nt.UNAVAILABLE:return I.UNAVAILABLE;case nt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case nt.NOT_FOUND:return I.NOT_FOUND;case nt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case nt.ABORTED:return I.ABORTED;case nt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case nt.DATA_LOSS:return I.DATA_LOSS;default:return P()}}(fe=nt||(nt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class GT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cp}static getOrCreateInstance(){return null===cp&&(cp=new GT),cp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let cp=null;const eie=new ga([4294967295,4294967295],0);function L2(t){const e=function F2(){return new TextEncoder}().encode(t),n=new Qne;return n.update(e),new Uint8Array(n.digest())}function V2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ga([n,r],0),new ga([i,s],0)]}class zT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new al(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ga.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ga.fromNumber(r)));return 1===i.compare(eie)&&(i=new ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=L2(e),[r,i]=V2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=L2(e),[r,i]=V2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ul{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ul(F.min(),i,new Te(K),hn(),ee())}}class cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cl(r,n,ee(),ee(),ee())}}class lp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class U2{constructor(e,n){this.targetId=e,this.Vt=n}}class B2{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $2{constructor(){this.St=0,this.Dt=H2(),this.Ct=ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new cl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=H2()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tie{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=hn(),this.zt=j2(),this.Wt=new Te(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(np(o))if(0===i){const a=new S(o.path);this.Yt(r,a,xe.newNoDocument(a,F.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=GT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const E={localCacheCount:l,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=_?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=_?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=_?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),E}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=oi(s).toUint8Array()}catch(l){if(l instanceof KL)return tr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new zT(u,o,a)}catch(l){return tr(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&np(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,xe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ul(e,n,this.Wt,this.jt,r);return this.jt=hn(),this.zt=j2(),this.Wt=new Te(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $2,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ae(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $2),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function j2(){return new Te(S.comparator)}function H2(){return new Te(S.comparator)}const nie={asc:"ASCENDING",desc:"DESCENDING"},rie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iie={and:"AND",or:"OR"};class sie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qT(t,e){return t.useProto3Json||Kc(e)?e:{value:e}}function Sa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oie(t,e){return Sa(t,e.toTimestamp())}function Ye(t){return O(!!t),F.fromTimestamp(function(e){const n=Vi(e);return new Fe(n.seconds,n.nanos)}(t))}function WT(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function z2(t){const e=he.fromString(t);return O(eV(e)),e}function ll(t,e){return WT(t.databaseId,e.path)}function Ar(t,e){const n=z2(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(W2(n))}function KT(t,e){return WT(t.databaseId,e)}function dl(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W2(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function K2(t,e,n){return{name:ll(t,e),fields:n.value.mapValue.fields}}function Y2(t,e){return{documents:[KT(t,e.path)]}}function YT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=KT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=KT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Z2(ve.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Hi((l=c).field),direction:die(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=qT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function J2(t){let e=function q2(t){const e=z2(t);return 4===e.length?he.emptyPath():W2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=X2(l);return d instanceof ve&&kT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new wa(Aa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Kc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ji((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ji(l.values||[],!l.before)}(n.endAt)),function f2(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function X2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Aa(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Aa(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Aa(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Aa(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?function(e){return ae.create(Aa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ve.create(e.compositeFilter.filters.map(n=>X2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P()}function die(t){return nie[t]}function hie(t){return rie[t]}function fie(t){return iie[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function Aa(t){return Qe.fromServerFormat(t.fieldPath)}function Z2(t){return t instanceof ae?function(e){if("=="===e.op){if(JL(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NAN"}};if(YL(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JL(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NAN"}};if(YL(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(e.field),op:hie(e.op),value:e.value}}}(t):t instanceof ve?function(e){const n=e.getFilters().map(r=>Z2(r));return 1===n.length?n[0]:{compositeFilter:{op:fie(e.op),filters:n}}}(t):P()}function pie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class li{constructor(e,n,r,i,s=F.min(),o=F.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tV{constructor(e){this.fe=e}}function JT(t){const e=J2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?sp(e,e.limit,"L"):e}class Ws{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Qc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(oi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?XL(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ws.Ve=new Ws;class Die{constructor(){this.rn=new r0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Tn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class r0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ae(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ae(he.comparator)).toArray()}}new Uint8Array(0);class $t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class Qs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qs(0)}static Mn(){return new Qs(-1)}}class xie{constructor(){this.changes=new ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ol(r.mutation,i,dn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Sr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hn();const o=il(),a=il();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ci)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ol(l.mutation,c,l.mutation.getFieldMask(),Fe.now())):o.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new kie(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=il();let i=new Te((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=w2();l.forEach(h=>{if(!s.has(h)){const f=x2(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function FT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Sr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:v2(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=rl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new ai(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,xe.newInvalidDocument(c)))});let o=rl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ol(c.mutation,u,dn.empty(),Fe.now()),nl(n,u)&&(o=o.insert(a,u))}),o})}}class Nie{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ye(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:JT(r.bundledQuery),readTime:Ye(r.readTime)}),v.resolve();var r}}class Pie{constructor(){this.overlays=new Te(S.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Sr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Sr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Sr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HT(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class s0{constructor(){this.fs=new Ae(_t.ds),this.ws=new Ae(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new he([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new he([])),r=new _t(n,e),i=new _t(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||S.comparator(e.key,n.key)}}class Oie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ae(_t.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new $T(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(K);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new _t(new S(s),0);let a=new Ae(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _t(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fie{constructor(e){this.Ds=e,this.docs=new Te(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hn();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||bT(OL(l),r)<=0||(i.has(l.key)||nl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lie(this)}getSize(e){return v.resolve(this.size)}}class Lie extends xie{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Vie{constructor(e){this.persistence=e,this.xs=new ui(n=>Bs(n),el),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new s0,this.targetCount=0,this.Ms=Qs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class o0{constructor(e,n){this.$s={},this.overlays={},this.Os=new bn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Vie(this),this.indexManager=new Die,this.remoteDocumentCache=new Fie(r=>this.referenceDelegate.Ls(r)),this.serializer=new tV(n),this.qs=new Nie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Oie(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Uie(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Uie extends ore{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Qs=new s0,this.js=null}static zs(e){return new vp(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class l0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new l0(e,n.fromCache,r,i)}}class xV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(p2(n))return v.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=sp(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,sp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return p2(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(ET()<=ce.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VT(n)),this.Wi(e,o,n,function PL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Fe(n+1,0):new Fe(n,r));return new Tn(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ae(y2(e));return n.forEach((i,s)=>{nl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return ET()<=ce.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",VT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Tn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class $ie{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Te(K),this.Yi=new ui(s=>Bs(s),el),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function MV(t,e){return d0.apply(this,arguments)}function d0(){return d0=y(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),d0.apply(this,arguments)}function kV(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Gie(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ka(t,e,n){return h0.apply(this,arguments)}function h0(){return h0=y(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fi(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),h0.apply(this,arguments)}function Ep(t,e,n){const r=A(t);let i=F.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:ee())).next(a=>(function FV(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function m2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class y0{constructor(){this.activeTargetIds=function UT(){return zre}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UV{constructor(){this.Hr=new y0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wie{Yr(e){}shutdown(){}}class BV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bp=null;function v0(){return null===bp?bp=268435456+Math.round(2147483648*Math.random()):bp++,"0x"+bp.toString(16)}const Kie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qie{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const jt="WebChannelConnection";class Yie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=v0(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw tr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Kie[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=v0();return new Promise((o,a)=>{const u=new Kne;u.setWithCredentials(!0),u.listenOnce(zne.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case IT.NO_ERROR:const l=u.getResponseJson();b(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case IT.TIMEOUT:b(jt,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case IT.HTTP_ERROR:const d=u.getStatus();if(b(jt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{b(jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=v0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hne(),a=Gne(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Wne({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(jt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Qie({ro:m=>{f?b(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(b(jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(jt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,E)=>{m.listen(w,_=>{try{E(_)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,zf.EventType.OPEN,()=>{f||b(jt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,zf.EventType.CLOSE,()=>{f||(f=!0,b(jt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,zf.EventType.ERROR,m=>{f||(f=!0,tr(jt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,zf.EventType.MESSAGE,m=>{var w;if(!f){const E=m.data[0];O(!!E);const R=E.error||(null===(w=E[0])||void 0===w?void 0:w.error);if(R){b(jt,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let j=function(hi){const Wa=nt[hi];if(void 0!==Wa)return O2(Wa)}(L),vt=R.message;void 0===j&&(j=I.INTERNAL,vt="Unknown error status: "+L+" with message "+R.message),f=!0,p.wo(new T(j,vt)),d.close()}else b(jt,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),g(a,qne.STAT_EVENT,m=>{m.stat===AL.PROXY?b(jt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===AL.NOPROXY&&b(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Cp(){return typeof document<"u"?document:null}function Il(t){return new sie(t,!0)}class w0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jV{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new w0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jie extends jV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function uie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),ct.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:O2(u.code);return new T(c,u.message||"")}(o);n=new B2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ar(t,r.document.name),s=Ye(r.document.updateTime),o=r.document.createTime?Ye(r.document.createTime):F.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=xe.newFoundDocument(i,s,o,a);n=new lp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ar(t,r.document),s=r.readTime?Ye(r.readTime):F.min(),o=xe.newNoDocument(i,s);n=new lp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ar(t,r.document);n=new lp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Zre(i,s);n=new U2(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?Ye(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=dl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=np(a)?{documents:Y2(i,a)}:{query:YT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=G2(i,s.resumeToken);const u=qT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=Sa(i,s.snapshotVersion.toTimestamp());const u=qT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function lie(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=dl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Xie extends jV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function cie(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=Ye(r.updateTime?r.updateTime:i);return s.isEqual(F.min())&&(s=Ye(i)),new Qre(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ye(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function hl(t,e){let n;if(e instanceof ba)n={update:K2(t,e.key,e.value)};else if(e instanceof Ca)n={delete:ll(t,e.key)};else if(e instanceof ci)n={update:K2(t,e.key,e.data),updateMask:pie(e.fieldMask)};else{if(!(e instanceof BT))return P();n={verify:ll(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Hs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ta)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:oie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class Zie extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class tse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ke(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Wi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=A(c);l.vu.add(4),yield Na(l),l.bu.set("Unknown"),l.vu.delete(4),yield El(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new tse(r,i)}}function El(t){return E0.apply(this,arguments)}function E0(){return E0=y(function*(t){if(Wi(t))for(const e of t.Ru)yield e(!0)}),E0.apply(this,arguments)}function Na(t){return D0.apply(this,arguments)}function D0(){return D0=y(function*(t){for(const e of t.Ru)yield e(!1)}),D0.apply(this,arguments)}function Sp(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),C0(n)?b0(n):Oa(n).Ko()&&T0(n,e))}function Dl(t,e){const n=A(t),r=Oa(n);n.Au.delete(e),r.Ko()&&HV(n,e),0===n.Au.size&&(r.Ko()?r.jo():Wi(n)&&n.bu.set("Unknown"))}function T0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).su(e)}function HV(t,e){t.Vu.qt(e),Oa(t).iu(e)}function b0(t){t.Vu=new tie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.bu.gu()}function C0(t){return Wi(t)&&!Oa(t).Uo()&&t.Au.size>0}function Wi(t){return 0===A(t).vu.size}function GV(t){t.Vu=void 0}function rse(t){return S0.apply(this,arguments)}function S0(){return S0=y(function*(t){t.Au.forEach((e,n)=>{T0(t,e)})}),S0.apply(this,arguments)}function ise(t,e){return A0.apply(this,arguments)}function A0(){return A0=y(function*(t,e){GV(t),C0(t)?(t.bu.Iu(e),b0(t)):t.bu.set("Unknown")}),A0.apply(this,arguments)}function sse(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof B2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ap(t,r)}else if(e instanceof lp?t.Vu.Ht(e):e instanceof U2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield kV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ct.EMPTY_BYTE_STRING,c.snapshotVersion)),HV(i,a);const l=new li(c.target,a,u,c.sequenceNumber);T0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Ap(t,r)}var r}),x0.apply(this,arguments)}function Ap(t,e,n){return R0.apply(this,arguments)}function R0(){return R0=y(function*(t,e,n){if(!Fi(e))throw e;t.vu.add(1),yield Na(t),t.bu.set("Offline"),n||(n=()=>kV(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield El(t)}))}),R0.apply(this,arguments)}function zV(t,e){return e().catch(n=>Ap(t,n,e))}function Pa(t){return M0.apply(this,arguments)}function M0(){return M0=y(function*(t){const e=A(t),n=Ki(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ose(e);)try{const i=yield Gie(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,ase(e,i)}catch(i){yield Ap(e,i)}qV(e)&&WV(e)}),M0.apply(this,arguments)}function ose(t){return Wi(t)&&t.Eu.length<10}function ase(t,e){t.Eu.push(e);const n=Ki(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function qV(t){return Wi(t)&&!Ki(t).Uo()&&t.Eu.length>0}function WV(t){Ki(t).start()}function use(t){return k0.apply(this,arguments)}function k0(){return k0=y(function*(t){Ki(t).hu()}),k0.apply(this,arguments)}function cse(t){return N0.apply(this,arguments)}function N0(){return N0=y(function*(t){const e=Ki(t);for(const n of t.Eu)e.uu(n.mutations)}),N0.apply(this,arguments)}function lse(t,e,n){return P0.apply(this,arguments)}function P0(){return P0=y(function*(t,e,n){const r=t.Eu.shift(),i=jT.from(r,e,n);yield zV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pa(t)}),P0.apply(this,arguments)}function dse(t,e){return O0.apply(this,arguments)}function O0(){return O0=y(function*(t,e){var n;e&&Ki(t).ou&&(yield(n=y(function*(r,i){if(function P2(t){switch(t){default:return P();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Ki(r).Qo(),yield zV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pa(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),qV(t)&&WV(t)}),O0.apply(this,arguments)}function KV(t,e){return F0.apply(this,arguments)}function F0(){return F0=y(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.vu.add(3),yield Na(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield El(n)}),F0.apply(this,arguments)}function V0(){return V0=y(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield El(n)):e||(n.vu.add(2),yield Na(n),n.bu.set("Unknown"))}),V0.apply(this,arguments)}function Oa(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new Jie(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:rse.bind(null,t),ao:ise.bind(null,t),nu:sse.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),C0(t)?b0(t):t.bu.set("Unknown")):(yield t.Su.stop(),GV(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ki(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new Xie(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:use.bind(null,t),ao:dse.bind(null,t),au:cse.bind(null,t),cu:lse.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield Pa(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class U0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new U0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fa(t,e){if(Ke("AsyncQueue",`${e}: ${t}`),Fi(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class QV{constructor(){this.Cu=new Te(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,La.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hse{constructor(){this.Nu=void 0,this.listeners=[]}}class fse{constructor(){this.queries=new ui(e=>g2(e),tl),this.onlineState="Unknown",this.ku=new Set}}function $0(){return $0=y(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hse),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Fa(o,`Initialization of query '${VT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&G0(n)}),$0.apply(this,arguments)}function H0(){return H0=y(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),H0.apply(this,arguments)}function pse(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&G0(n)}function gse(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function G0(t){t.ku.forEach(e=>{e.next()})}class z0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class XV{constructor(e){this.key=e}}class ZV{constructor(e){this.key=e}}class eU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=y2(e),this.ec=new La(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new QV,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=nl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Va(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new QV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new ZV(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new XV(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Va.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _se{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vse{constructor(e){this.key=e,this.fc=!1}}class wse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ui(a=>g2(a),tl),this._c=new Map,this.mc=new Set,this.gc=new Te(S.comparator),this.yc=new Map,this.Ic=new s0,this.Tc={},this.Ec=new Map,this.Ac=Qs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ise(t,e){return q0.apply(this,arguments)}function q0(){return q0=y(function*(t,e){const n=function gb(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tse.bind(null,e),e.dc.nu=pse.bind(null,e.eventManager),e.dc.Pc=gse.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ma(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,en(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function W0(t,e,n,r,i){return K0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Sp(n.remoteStore,o)}return i}),q0.apply(this,arguments)}function K0(){return K0=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,w,E){let _=m.view.sc(w);_.zi&&(_=yield Ep(g.localStore,m.query,!1).then(({documents:j})=>m.view.sc(j,_)));const R=E&&E.targetChanges.get(m.targetId),L=m.view.applyChanges(_,g.isPrimaryClient,R);return ib(g,m.targetId,L.cc),L.snapshot}),function(g,m,w,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Ep(t.localStore,e,!0),o=new eU(e,s.ir),a=o.sc(s.documents),u=cl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);ib(t,n,c.cc);const l=new _se(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),K0.apply(this,arguments)}function Ese(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=y(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!tl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ka(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Dl(n.remoteStore,r.targetId),Ua(n,r.targetId)}).catch(Oi))):(Ua(n,r.targetId),yield ka(n.localStore,r.targetId,!0))}),Q0.apply(this,arguments)}function Y0(){return Y0=y(function*(t,e,n){const r=function mb(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cse.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=Fe.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=hn(),p=ee();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,w)=>{w.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const w of o){const E=Jre(w,l.get(w.key).overlayedDocument);null!=E&&m.push(new ci(w.key,E,t2(E.value.mapValue),ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:v2(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Te(K)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield di(r,i.changes),yield Pa(r.remoteStore)}catch(i){const s=Fa(i,"Failed to persist write");n.reject(s)}}),Y0.apply(this,arguments)}function tU(t,e){return J0.apply(this,arguments)}function J0(){return J0=y(function*(t,e){const n=A(t);try{const r=yield function Hie(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ct.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=hn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function NV(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(F.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield di(n,r,e)}catch(r){yield Oi(r)}}),J0.apply(this,arguments)}function nU(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&G0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tse(t,e,n){return X0.apply(this,arguments)}function X0(){return X0=y(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Te(S.comparator);o=o.insert(s,xe.newNoDocument(s,F.min()));const a=ee().add(s),u=new ul(F.min(),new Map,new Te(K),o,a);yield tU(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),sb(r)}else yield ka(r.localStore,e,!1).then(()=>Ua(r,e,n)).catch(Oi)}),X0.apply(this,arguments)}function bse(t,e){return Z0.apply(this,arguments)}function Z0(){return Z0=y(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function jie(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);O(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rb(n,r,null),nb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield di(n,i)}catch(i){yield Oi(i)}}),Z0.apply(this,arguments)}function Cse(t,e,n){return eb.apply(this,arguments)}function eb(){return eb=y(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(O(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);rb(r,e,n),nb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield di(r,i)}catch(i){yield Oi(i)}}),eb.apply(this,arguments)}function nb(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function rb(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ua(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||rU(t,r)})}function rU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Dl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),sb(t))}function ib(t,e,n){for(const r of n)r instanceof XV?(t.Ic.addReference(r.key,e),Ase(t,r)):r instanceof ZV?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||rU(t,r.key)):P()}function Ase(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),sb(t))}function sb(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new vse(n)),t.gc=t.gc.insert(n,r),Sp(t.remoteStore,new li(en(Ea(n.path)),r,"TargetPurposeLimboResolution",bn.ct))}}function di(t,e,n){return ob.apply(this,arguments)}function ob(){return ob=y(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=l0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fi(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),ob.apply(this,arguments)}function xse(t,e){return ab.apply(this,arguments)}function ab(){return ab=y(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield MV(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield di(n,r.er)}var i}),ab.apply(this,arguments)}function Rse(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class xp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Il(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function RV(t,e,n,r){return new $ie(t,e,n,r)}(this.persistence,new xV,e.initialUser,this.serializer)}createPersistence(e){return new o0(vp.zs,this.serializer)}createSharedClientState(e){return new UV}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ba{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>nU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xse.bind(null,r.syncEngine),yield function L0(t,e){return V0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fse}createDatastore(e){const n=Il(e.databaseInfo.databaseId),r=new Yie(e.databaseInfo);return new Zie(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>nU(this.syncEngine,a,0),o=BV.D()?new BV:new Wie,new nse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new wse(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=A(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Na(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Rp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ke("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hse{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=kL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Fa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Mp(t,e){return yb.apply(this,arguments)}function yb(){return yb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield MV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),yb.apply(this,arguments)}function _b(t,e){return vb.apply(this,arguments)}function vb(){return vb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function wb(t){return Ib.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>KV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>KV(e.remoteStore,s)),t._onlineComponents=e}),vb.apply(this,arguments)}function Ib(){return Ib=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function cU(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;tr("Error using user provided cache. Falling back to memory cache: "+n),yield Mp(t,new xp)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Mp(t,new xp);return t._offlineComponents}),Ib.apply(this,arguments)}function kp(t){return Eb.apply(this,arguments)}function Eb(){return Eb=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield _b(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield _b(t,new Ba))),t._onlineComponents}),Eb.apply(this,arguments)}function $a(t){return Tb.apply(this,arguments)}function Tb(){return Tb=y(function*(t){const e=yield kp(t),n=e.eventManager;return n.onListen=Ise.bind(null,e.syncEngine),n.onUnlisten=Ese.bind(null,e.syncEngine),n}),Tb.apply(this,arguments)}function gU(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const mU=new Map;function bb(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yU(t){if(!S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _U(t){if(S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wU{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xse(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Yne;switch(n.type){case"firstParty":return new ere(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mU.get(e);n&&(b("ComponentProvider","Removing Datastore"),mU.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Mt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mt(this.firestore,e,this._query)}}class xr extends Mt{constructor(e,n,r){super(e,n,Ea(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new S(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function eoe(t,e,...n){if(t=On(t),bb("collection","path",e),t instanceof Tl){const r=he.fromString(e,...n);return _U(r),new xr(t,null,r)}{if(!(t instanceof Je||t instanceof xr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return _U(r),new xr(t.firestore,null,r)}}function IU(t,e,...n){if(t=On(t),1===arguments.length&&(e=kL.A()),bb("doc","path",e),t instanceof Tl){const r=he.fromString(e,...n);return yU(r),new Je(t,null,new S(r))}{if(!(t instanceof Je||t instanceof xr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return yU(r),new Je(t.firestore,t instanceof xr?t.converter:null,new S(r))}}class toe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new w0(this,"async_queue_retry"),this.Xc=()=>{const n=Cp();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Cp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Cp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ut;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fi(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=U0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Cb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Tl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new toe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DU(this),this._firestoreClient.terminate()}}function roe(t,e){const r="string"==typeof t?t:e||"(default)",i=$h("object"==typeof t?t:TN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=j8("firestore");s&&function Zse(t,e,n,r={}){var i;const s=(t=le(t,Tl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=mt.MOCK_USER;else{a=function G8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ph(JSON.stringify({alg:"none",type:"JWT"})),Ph(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(c)}t._authCredentials=new Jne(new RL(a,u))}}(i,...s)}return i}function rt(t){return t._firestoreClient||DU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DU(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Rre(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gU(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Hse(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(ct.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ja{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class CU{constructor(e){this._methodName=e}}class Sb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const soe=/^__.*__$/;class ooe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new ba(e,this.data,n,this.fieldTransforms)}}function AU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Op{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(AU(this.ca)&&soe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Il(e)}ya(e,n,r,i=!1){return new Op({ca:e,methodName:n,ga:r,path:Qe.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ha(t){const e=t._freezeSettings(),n=Il(t._databaseId);return new aoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ab(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Rb("Data must be an object, but it was:",o,r);const a=NU(r,o);let u,c;if(s.merge)u=new dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Sl(e,d,n);if(!o.contains(h))throw new T(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);OU(l,h)||l.push(h)}u=new dn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new ooe(new Rt(a),u,c)}function Xs(t,e){if(PU(t=On(t)))return Rb("Unsupported field value:",e,t),NU(t,e);if(t instanceof CU)return function(n,r){if(!AU(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Xs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=On(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return D2(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:Sa(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sa(r.serializer,i)}}if(n instanceof Sb)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Js)return{bytesValue:G2(r.serializer,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Pp(n)}`)}(t,e)}function NU(t,e){const n={};return qL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const s=Xs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function PU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Sb||t instanceof Js||t instanceof Je||t instanceof CU)}function Rb(t,e,n){if(!PU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Pp(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Sl(t,e,n){if((e=On(e))instanceof ja)return e._internalPath;if("string"==typeof e)return Fp(t,e);throw Lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const doe=new RegExp("[~\\*/\\[\\]]");function Fp(t,e,n){if(e.search(doe)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ja(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}function OU(t,e){return t.some(n=>n.isEqual(e))}class Mb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hoe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hoe extends Mb{data(){return super.data()}}function Vp(t,e){return"string"==typeof e?Fp(t,e):e instanceof ja?e._internalPath:e._delegate._internalPath}class poe{convertValue(e,n="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sb(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);O(eV(r));const i=new Vs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends Mb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jp extends za{data(e={}){return super.data(e)}}class qa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jp(this._firestore,this._userDataWriter,r.key,r,new Zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new jp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new jp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:moe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function moe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Qi extends poe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function yoe(t){return xl(le(t.firestore,Re),[new Ca(t._key,ke.none())])}function _oe(t,e){const n=le(t.firestore,Re),r=IU(t),i=function Nb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return xl(n,[Ab(Ha(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ke.exists(!1))]).then(()=>r)}function xl(t,e){return function(n,r){const i=new ut;return n.asyncQueue.enqueueAndForget(y(function*(){return function Dse(t,e,n){return Y0.apply(this,arguments)}(yield function Db(t){return kp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(rt(t),e)}!function(t,e=!0){ma=ac,Jt(new Lt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Re(new Xne(n.getProvider("auth-internal")),new tre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),We(xL,"3.13.0",t),We(xL,"3.13.0","esm2017")}();var Gp=function(){return Gp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Gp.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Moe={includeMetadataChanges:!1};function Fb(t,e){return void 0===e&&(e=Moe),new Le(function(n){var r=function voe(t,...e){var n,r,i;t=On(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Cb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Cb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=le(t.firestore,Re),l=Ea(t._key.path),u={next:d=>{e[o]&&e[o](function Pb(t,e,n){const r=n.docs.get(e._key),i=new Qi(t);return new za(t,i,e._key,r,new Zs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=le(t,Mt);c=le(d.firestore,Re),l=d._query;const h=new Qi(c);u={next:f=>{e[o]&&e[o](new qa(c,h,d,f))},error:e[o+1],complete:e[o+2]},function FU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Rp(p),m=new z0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function B0(t,e){return $0.apply(this,arguments)}(yield $a(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function j0(t,e){return H0.apply(this,arguments)}(yield $a(d),m)}))}}(rt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Voe(t,e){return void 0===e&&(e={}),function Loe(t){return Fb(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function GU(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Gp(Gp({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class zp{constructor(e){return e}}const KU="firestore",Ub=new U("angularfire2.firestore-instances");function joe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zp(r)}}const Hoe={provide:class Boe{constructor(){return sI(KU)}},deps:[[new Wt,Ub]]},Goe={provide:zp,useFactory:function $oe(t,e){const n=function iI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(KU,t,e);return n&&new zp(n)},deps:[[new Wt,Ub],ia]};let zoe=(()=>{class t{constructor(){We("angularfire",Yw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ir({providers:[Goe,Hoe]}),t})();function qoe(t,...e){return{ngModule:zoe,providers:[{provide:Ub,useFactory:joe(t),multi:!0,deps:[Me,Hn,UP,BP,[new Wt,GO],[new Wt,hF],...e]}]}}const Woe=Ss(Voe,!0),Koe=Ss(_oe,!0),QU=Ss(eoe,!0),Qoe=Ss(yoe,!0),Yoe=Ss(IU,!0),Joe=Ss(roe,!0);let YU=(()=>{var t;class e{constructor(r){this.fs=r}getNotes(){let r=QU(this.fs,"notes");return Woe(r,{idField:"id"})}addNote(r){let i={description:r},s=QU(this.fs,"notes");return Koe(s,i)}deleteNote(r){let i=Yoe(this.fs,"notes/"+r);return Qoe(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(V(zp))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Xoe(t,e){if(1&t){const n=Wm();Mn(0,"ul")(1,"li"),Au(2),Mn(3,"button",8),Cu("click",function(){const s=wg(n).$implicit;return Ig(Ix().deleteNotes(s.id))}),Hr(4,"i",9),Gn()()()}if(2&t){const n=e.$implicit;Dm(2),Pd("",n.description," ")}}let Zoe=(()=>{var t;class e{constructor(r){this.service=r,this.notes=[]}ngOnInit(){this.refreshNotes()}refreshNotes(){this.service.getNotes().subscribe(r=>{this.notes=r,console.log()})}addNotes(r){this.service.addNote(r).then(i=>{console.log(i),this.refreshNotes()})}deleteNotes(r){this.service.deleteNote(r).then(i=>{console.log(i),this.refreshNotes()})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(YU))},t.\u0275cmp=Hl({type:t,selectors:[["app-note"]],decls:13,vars:1,consts:[[1,"card"],[2,"padding","25px"],[1,"altInput"],["newNote",""],[1,"altBtn",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[2,"padding-left","25px"],[4,"ngFor","ngForOf"],[1,"altBtnDelete",3,"click"],["aria-hidden","true",1,"fa","fa-close"]],template:function(r,i){if(1&r){const s=Wm();Mn(0,"h1"),Au(1,"Todo List"),Gn(),Hr(2,"br"),Mn(3,"div",0)(4,"div",1),Hr(5,"input",2,3),Mn(7,"span")(8,"button",4),Cu("click",function(){wg(s);const a=function fx(t){return function uo(t,e){return t[e]}(function O$(){return J.lFrame.contextLView}(),Ce+t)}(6);return Ig(i.addNotes(a.value))}),Hr(9,"i",5),Gn(),Hr(10,"hr"),Gn()(),Mn(11,"div",6),function hx(t,e,n,r,i,s,o,a){const u=D(),c=de(),l=t+Ce,d=c.firstCreatePass?function xG(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Co(e,t,4,o||null,gi(c,a));Pm(e,n,l,gi(c,u)),Xl(e,l);const d=l.tView=Nm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ur(d,!1);const h=u[re].createComment("");hd(c,u,h,d),Ot(h,u),Td(u,u[l]=zA(h,u,h,d)),Ql(d)&&Mm(c,u,d),null!=o&&km(u,d,a)}(12,Xoe,5,1,"ul",7),Gn()()}2&r&&(Dm(12),Hm("ngForOf",i.notes))},dependencies:[wk],styles:[".altBtn[_ngcontent-%COMP%]{border-radius:50%;color:#fff;background-color:#00f;border:none;margin-left:10px}.altInput[_ngcontent-%COMP%]{border-radius:20px;background-color:#f4f3f3}.altBtnDelete[_ngcontent-%COMP%]{border-radius:50%;color:#fff;background-color:#f66262;border:none;margin-left:10px}"]}),e})(),eae=(()=>{var t;class e{constructor(){this.title="SK851"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Hl({type:t,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"dashboard"],[1,"row"],[1,"col-lg-8","col-md-6","col-sm-12"],[1,"col-lg-4","col-md-6","col-sm-12"]],template:function(r,i){1&r&&(Mn(0,"div",0)(1,"h1"),Au(2,"Dashboard"),Gn(),Mn(3,"div",1)(4,"div",2),Au(5," check "),Gn(),Mn(6,"div",3),Hr(7,"app-note"),Gn()()())},dependencies:[Zoe]}),e})();const tae={apiKey:"AIzaSyDtow7boXTNGM5fKD-ci3B-2SpjSS97rZY",authDomain:"angular-web-ae6f0.firebaseapp.com",projectId:"angular-web-ae6f0",storageBucket:"angular-web-ae6f0.appspot.com",messagingSenderId:"1099404988856",appId:"1:1099404988856:web:702c7c8cd34389f5747f4d"};let nae=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Or({type:t,bootstrap:[eae]}),t.\u0275inj=ir({providers:[YU],imports:[V5,R8,B_,CX(()=>SX(tae)),qoe(()=>Joe())]}),e})();L5().bootstrapModule(nae).catch(t=>console.error(t))}},Ie=>{Ie(Ie.s=142)}]);